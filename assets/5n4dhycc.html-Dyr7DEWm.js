import{_ as i,c as a,a as e,o as t}from"./app-CS9K37Kg.js";const l={};function n(h,s){return t(),a("div",null,s[0]||(s[0]=[e(`<p>ffmpeg 是一个功能强大的多媒体处理工具，主要用于音视频录制、转换、剪辑、处理和流式传输。它支持几乎所有主流的音视频格式，并提供丰富的编码和解码选项。</p><h2 id="安装" tabindex="-1"><a class="header-anchor" href="#安装"><span>安装</span></a></h2><h3 id="在-macos-上安装" tabindex="-1"><a class="header-anchor" href="#在-macos-上安装"><span>在 macOS 上安装</span></a></h3><p>使用<code>brew</code>命令安装：</p><div class="language-sh line-numbers-mode" data-ext="sh" data-title="sh"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> brew</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> install</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ffmpeg</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="在-linux-上安装" tabindex="-1"><a class="header-anchor" href="#在-linux-上安装"><span>在 Linux 上安装</span></a></h3><div class="language-sh line-numbers-mode" data-ext="sh" data-title="sh"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> apt</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> update</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> &amp;&amp;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> apt</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> install</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ffmpeg</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -y</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="在-windows-上安装" tabindex="-1"><a class="header-anchor" href="#在-windows-上安装"><span>在 Windows 上安装</span></a></h3><p>下载 ffmpeg.exe 并添加到系统环境变量，<a href="https://ffmpeg.org/download.html" target="_blank" rel="noopener noreferrer">ffmpeg download</a></p><h3 id="如何检查-ffmpeg-是否安装成功" tabindex="-1"><a class="header-anchor" href="#如何检查-ffmpeg-是否安装成功"><span>如何检查 ffmpeg 是否安装成功</span></a></h3><p>通过查询 ffmpeg 的版本信息来检查是否安装成功，如下是在 macOS 上输出的版本信息：</p><div class="language-sh line-numbers-mode" data-ext="sh" data-title="sh"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ffmpeg</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -version</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">ffmpeg</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> version</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 7.1</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Copyright</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> (c) 2000-2024 the FFmpeg developers</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">built</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> with</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Apple</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> clang</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> version</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 16.0.0</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> (clang-1600.0.26.4)</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">configuration:</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --prefix=/opt/homebrew/Cellar/ffmpeg/7.1_3</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --enable-shared</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --enable-pthreads</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --enable-version3</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --cc=clang</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --host-cflags=</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --host-ldflags=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">-Wl,-ld_classic</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --enable-ffplay</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --enable-gnutls</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --enable-gpl</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --enable-libaom</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --enable-libaribb24</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --enable-libbluray</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --enable-libdav1d</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --enable-libharfbuzz</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --enable-libjxl</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --enable-libmp3lame</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --enable-libopus</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --enable-librav1e</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --enable-librist</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --enable-librubberband</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --enable-libsnappy</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --enable-libsrt</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --enable-libssh</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --enable-libsvtav1</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --enable-libtesseract</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --enable-libtheora</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --enable-libvidstab</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --enable-libvmaf</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --enable-libvorbis</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --enable-libvpx</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --enable-libwebp</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --enable-libx264</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --enable-libx265</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --enable-libxml2</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --enable-libxvid</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --enable-lzma</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --enable-libfontconfig</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --enable-libfreetype</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --enable-frei0r</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --enable-libass</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --enable-libopencore-amrnb</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --enable-libopencore-amrwb</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --enable-libopenjpeg</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --enable-libspeex</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --enable-libsoxr</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --enable-libzmq</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --enable-libzimg</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --disable-libjack</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --disable-indev=jack</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --enable-videotoolbox</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --enable-audiotoolbox</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --enable-neon</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">libavutil</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">      59.</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 39.100</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 59.</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 39.100</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">libavcodec</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">     61.</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 19.100</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 61.</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 19.100</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">libavformat</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">    61.</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  7.100</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 61.</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  7.100</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">libavdevice</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">    61.</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  3.100</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 61.</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  3.100</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">libavfilter</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">    10.</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  4.100</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 10.</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  4.100</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">libswscale</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">      8.</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  3.100</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">  8.</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  3.100</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">libswresample</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">   5.</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  3.100</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">  5.</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  3.100</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">libpostproc</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">    58.</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  3.100</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 58.</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">  3.100</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="语法" tabindex="-1"><a class="header-anchor" href="#语法"><span>语法</span></a></h2><div class="language-sh line-numbers-mode" data-ext="sh" data-title="sh"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">ffmpeg</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> [全局选项] -i </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&lt;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">输入文件</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> [</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">输出选项</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &lt;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">输出文件</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>-i &lt;输入文件&gt;：指定输入音视频文件</li><li>[输出选项]：指定编码、分辨率、比特率等输出参数</li><li>&lt;输出文件&gt;：最终生成的文件路径和格式</li></ul><h2 id="参数" tabindex="-1"><a class="header-anchor" href="#参数"><span>参数</span></a></h2><h3 id="主要参数" tabindex="-1"><a class="header-anchor" href="#主要参数"><span>主要参数</span></a></h3><ul><li>-i：设定输入文件</li><li>-f：强制输入或输出文件的格式。</li><li>-ss：指定开始时间（格式 hh:mm:ss）</li><li>-t：指定持续时间（截取视频片段）</li></ul><h4 id="f" tabindex="-1"><a class="header-anchor" href="#f"><span><code>-f</code></span></a></h4><p>对于输入，如果不指定-f, ffmpeg 会根据输入数据（来自于输入文件，或输入设备或其它协议）来判断数据的封装格式 对于输出，如果不指定-f，ffmpeg 也可以通过输出文件名进行推导</p><p>下列命令可以列出所有的formats</p><div class="language-sh line-numbers-mode" data-ext="sh" data-title="sh"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ffmpeg</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -formats</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> .</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="音频参数" tabindex="-1"><a class="header-anchor" href="#音频参数"><span>音频参数</span></a></h3><p>使用<code>-a</code>来指定是audio</p><ul><li><code>-acodec &lt;codec_name&gt;</code> ：设定声音编解码器，（编码器设定为”copy“，保持原有的编解码）</li><li>copy：copy:用于指定输出视频流和输入视频流的编码格式保持一致。</li><li>-an：（audio no）疏略音频，只保留视频。</li><li><code>-ar &lt;音频采样率&gt;</code>：指定音频的采样率。例 <code>ffmpeg -i test.mp4 -ar 44100</code></li><li><code>-ac &lt;整数&gt;</code>: (audio channel)：指定音频声道数量。 例 <code>ffmpeg -i test.mpr -ac</code></li><li><code>-c:a &lt;编码器名字&gt;</code>：指定音频的编码器。</li></ul><h3 id="视频参数" tabindex="-1"><a class="header-anchor" href="#视频参数"><span>视频参数</span></a></h3><p>使用<code>-v</code>来指定是video</p><ul><li>-vn：（video no）忽略视频，只保留音频。</li><li><code>-vcodec &lt;codec_name&gt;</code>： 设定视频编解码器（编码器设定为”copy“表示不进行编解码,即保持原来的编解码格式）。</li><li>copy：用于指定输出视频流和输入视频流的编码格式保持一致。</li><li><code>-pix_fmt &lt;像素格式&gt;</code>：指定视频像素格式</li><li><code>-c:v &lt;编码器&gt;</code>： 指定视频编码器。（-c:v copy。 保持原有的）</li><li><code>-vf &lt;滤镜&gt;</code>：指定路径名字。例 <code>ffmpeg -i input.mp4 -vf crop=in_w-100:in_h-100 output.mp4</code></li><li><code>-r &lt;帧率&gt;</code>：设定帧速率。</li></ul><h3 id="其他参数" tabindex="-1"><a class="header-anchor" href="#其他参数"><span>其他参数</span></a></h3><ul><li>-r：设置帧率</li><li>-b:v：设置视频比特率</li><li>-c:v：指定视频编码（如 libx264）</li><li>-c:a：指定音频编码（如 aac）</li><li>-map：选择输入流（音频/视频）</li><li>-preset：设置编码速度（ultrafast/fast/slow）</li><li>-threads：设置线程数</li><li>-re：要求按照既定速率处理输入数据，这个速率即是输入文件的帧率</li></ul><h2 id="格式值" tabindex="-1"><a class="header-anchor" href="#格式值"><span>格式值</span></a></h2><h3 id="声音格式" tabindex="-1"><a class="header-anchor" href="#声音格式"><span>声音格式</span></a></h3><h4 id="s16le" tabindex="-1"><a class="header-anchor" href="#s16le"><span>s16le</span></a></h4><p><strong>s16le是一种无压缩的声音格式，全称为signed 16-bit little-endian，意思是有符号的16位音频数据用小端字节序来存储</strong>。这种格式通常用于存储语音、音效等低质量的音频数据，因为它可以提供音频采样的全范围动态范围，从-32768到32767，能够提供足够的音量和质量，同时比其他无损或有损音频格式的文件大小较小。</p><h3 id="滤镜值" tabindex="-1"><a class="header-anchor" href="#滤镜值"><span>滤镜值</span></a></h3><h4 id="crop" tabindex="-1"><a class="header-anchor" href="#crop"><span>crop</span></a></h4><p>FFmpeg 的 crop 滤镜可以用于裁剪视频，其使用方法如下:</p><ul><li>基本语法：<code>crop=&lt;width&gt;:&lt;height&gt;:&lt;x&gt;:&lt;y&gt;</code></li></ul><p>其中，<code>&lt;width&gt;</code> 表示裁剪后视频的宽度，<code>&lt;height&gt;</code> 表示裁剪后视频的高度，<code>&lt;x&gt;</code> 表示从视频左侧开始裁剪的像素数量，<code>&lt;y&gt;</code> 表示从视频顶部开始裁剪的像素数量。</p><p>例如，下面的命令将从输入的视频文件中裁剪出宽度为 500，高度为 500，左上角坐标为 (100,100) 的视频，并将裁剪后的视频输出为 output.mp4：</p><div class="language-sh line-numbers-mode" data-ext="sh" data-title="sh"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ffmpeg</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -i</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> input.mp4</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -vf</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> crop=500:500:100:100</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> output.mp4</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>输入视频时使用滤镜：<code>-vf &quot;crop=&lt;width&gt;:&lt;height&gt;:&lt;x&gt;:&lt;y&gt;&quot;</code></li></ul><p>例如，要对输入的视频裁剪掉右侧和底部各 100 像素，可以输入以下命令：</p><div class="language-sh line-numbers-mode" data-ext="sh" data-title="sh"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ffmpeg</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -i</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> input.mp4</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -vf</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> crop=in_w-100:in_h-100</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> output.mp4</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>在这个命令中，in_w 和 in_h 表示输入视频的宽度和高度。</p><p><strong>注意</strong>，crop 滤镜也可以用于裁剪音频或图片。如果要裁剪视频中的特定部分，请先使用 FFmpeg 的 trim 滤镜裁剪为所需的范围，然后再使用 crop 滤镜裁剪到所需的大小。</p><p>例如，<code>trim=start_frame=100:end_frame=200,crop=320:240:100:100</code> 表示从视频的第 100 帧开始裁剪，裁剪到第 200 帧，然后将宽度裁剪为 320 像素，高度为 240 像素，裁剪掉左边 100 像素和顶部 100 像素。</p><h2 id="使用" tabindex="-1"><a class="header-anchor" href="#使用"><span>使用</span></a></h2><h3 id="查看视频信息" tabindex="-1"><a class="header-anchor" href="#查看视频信息"><span>查看视频信息</span></a></h3><div class="language-sh line-numbers-mode" data-ext="sh" data-title="sh"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ffmpeg</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -i</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> input.mp4</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>查看视频格式、编码信息、时长、分辨率、比特率等。</p><h3 id="格式转换" tabindex="-1"><a class="header-anchor" href="#格式转换"><span>格式转换</span></a></h3><p>将 MP4 转换为 AVI</p><div class="language-sh line-numbers-mode" data-ext="sh" data-title="sh"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ffmpeg</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -i</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> input.mp4</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> output.avi</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>将音频 WAV 转为 MP3</p><div class="language-sh line-numbers-mode" data-ext="sh" data-title="sh"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ffmpeg</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -i</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> input.wav</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> output.mp3</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>指定编解码器转换</p><div class="language-sh line-numbers-mode" data-ext="sh" data-title="sh"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ffmpeg</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -i</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> input.mp4</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -c:v</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> libx264</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -c:a</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> aac</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> output.mp4</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>-c:v libx264：指定视频编码为 H.264</li><li>-c:a aac：指定音频编码为 AAC</li></ul><h3 id="提取音频" tabindex="-1"><a class="header-anchor" href="#提取音频"><span>提取音频</span></a></h3><p>从视频中提取音频</p><div class="language-sh line-numbers-mode" data-ext="sh" data-title="sh"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ffmpeg</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -i</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> input.mp4</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -q:a</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 0</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -map</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> a</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> output.mp3</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>-q:a 0：保持音频质量</li><li>-map a：提取音频流</li></ul><h3 id="调整分辨率-缩放视频" tabindex="-1"><a class="header-anchor" href="#调整分辨率-缩放视频"><span>调整分辨率（缩放视频）</span></a></h3><p>修改视频分辨率为 1280x720</p><div class="language-sh line-numbers-mode" data-ext="sh" data-title="sh"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ffmpeg</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -i</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> input.mp4</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -vf</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> scale=1280:720</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> output.mp4</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="裁剪视频" tabindex="-1"><a class="header-anchor" href="#裁剪视频"><span>裁剪视频</span></a></h3><p>裁剪视频（从 00:00:30 开始，截取 10 秒）</p><div class="language-sh line-numbers-mode" data-ext="sh" data-title="sh"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ffmpeg</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -i</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> input.mp4</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -ss</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 00:00:30</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -t</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 10</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> output.mp4</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>-ss 00:00:30：从 30 秒处开始</li><li>-t 10：截取 10 秒</li></ul><h3 id="合并视频文件" tabindex="-1"><a class="header-anchor" href="#合并视频文件"><span>合并视频文件</span></a></h3><h3 id="合并多个视频文件" tabindex="-1"><a class="header-anchor" href="#合并多个视频文件"><span>合并多个视频文件</span></a></h3><p>创建或编辑 file_list.txt 文件如下：</p><div class="language-txt line-numbers-mode" data-ext="txt" data-title="txt"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>file &#39;input1.mp4&#39;</span></span>
<span class="line"><span>file &#39;input2.mp4&#39;</span></span>
<span class="line"><span>file &#39;input3.mp4&#39;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>执行命令合并</p><div class="language-sh line-numbers-mode" data-ext="sh" data-title="sh"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ffmpeg</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -f</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> concat</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -safe</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 0</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -i</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> file_list.txt</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -c</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> copy</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> output.mp4</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>-f concat：使用文件合并模式</li><li>-safe 0：允许非绝对路径</li></ul><h3 id="调整视频帧率" tabindex="-1"><a class="header-anchor" href="#调整视频帧率"><span>调整视频帧率</span></a></h3><p>将帧率调整为 30fps</p><div class="language-sh line-numbers-mode" data-ext="sh" data-title="sh"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ffmpeg</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -i</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> input.mp4</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -r</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 30</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> output.mp4</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="去除视频中的音频" tabindex="-1"><a class="header-anchor" href="#去除视频中的音频"><span>去除视频中的音频</span></a></h3><div class="language-sh line-numbers-mode" data-ext="sh" data-title="sh"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ffmpeg</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -i</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> input.mp4</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -an</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> output.mp4</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>-an：去掉音频流，保留视频流</li></ul><h3 id="调整音量" tabindex="-1"><a class="header-anchor" href="#调整音量"><span>调整音量</span></a></h3><p>将音量调整为原来的 50%</p><div class="language-sh line-numbers-mode" data-ext="sh" data-title="sh"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ffmpeg</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -i</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> input.mp4</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -af</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">volume=0.5</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> output.mp4</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>-af：音频滤镜</li></ul><p>将音量调整为原来的 2 倍</p><div class="language-sh line-numbers-mode" data-ext="sh" data-title="sh"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ffmpeg</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -i</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> input.mp3</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -filter:a</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">volume=2.0</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> output.mp3</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="视频截图" tabindex="-1"><a class="header-anchor" href="#视频截图"><span>视频截图</span></a></h3><p>将视频的第 10 秒截取为一张图片</p><div class="language-sh line-numbers-mode" data-ext="sh" data-title="sh"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ffmpeg</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -ss</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 00:00:10</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -i</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> input.mp4</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -frames:v</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 1</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> output.jpg</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>-ss 00:00:10：从第 10 秒开始截取</li><li>-frames:v 1：截取 1 帧</li></ul><h3 id="调整视频比特率" tabindex="-1"><a class="header-anchor" href="#调整视频比特率"><span>调整视频比特率</span></a></h3><p>将视频比特率调整为 500 kbps</p><div class="language-sh line-numbers-mode" data-ext="sh" data-title="sh"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ffmpeg</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -i</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> input.mp4</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -b:v</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 500k</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> output.mp4</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>-b:v 500k：设置视频比特率为 500 kbps</li></ul><h3 id="改变视频播放速度" tabindex="-1"><a class="header-anchor" href="#改变视频播放速度"><span>改变视频播放速度</span></a></h3><p>将视频播放速度调整为原来的 2 倍</p><div class="language-sh line-numbers-mode" data-ext="sh" data-title="sh"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ffmpeg</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -i</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> input.mp4</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -filter:v</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">setpts=0.5*PTS</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> output.mp4</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>-filter:v &quot;setpts=0.5*PTS&quot;：将视频播放速度调整为原来的 2 倍</li></ul><p>减慢视频播放速度（0.5 倍）</p><div class="language-sh line-numbers-mode" data-ext="sh" data-title="sh"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ffmpeg</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -i</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> input.mp4</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -filter:v</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">setpts=2.0*PTS</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> output.mp4</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="添加字幕到视频" tabindex="-1"><a class="header-anchor" href="#添加字幕到视频"><span>添加字幕到视频</span></a></h3><p>将字幕文件添加到视频中</p><div class="language-sh line-numbers-mode" data-ext="sh" data-title="sh"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ffmpeg</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -i</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> input.mp4</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -vf</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">subtitles=subtitles.srt</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> output.mp4</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>-vf &quot;subtitles=subtitles.srt&quot;：添加字幕文件</li></ul><h3 id="实时录屏" tabindex="-1"><a class="header-anchor" href="#实时录屏"><span>实时录屏</span></a></h3><div class="language-sh line-numbers-mode" data-ext="sh" data-title="sh"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ffmpeg</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -f</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> x11grab</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -s</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 1920x1080</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -i</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> :0.0</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -r</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 30</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> output.mp4</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>-s 1920x1080：录制分辨率</li><li>-r 30：帧率 30fps</li><li>:0.0：屏幕捕获区域</li></ul><h3 id="添加水印到视频" tabindex="-1"><a class="header-anchor" href="#添加水印到视频"><span>添加水印到视频</span></a></h3><div class="language-sh line-numbers-mode" data-ext="sh" data-title="sh"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ffmpeg</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -i</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> input.mp4</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -i</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> logo.png</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -filter_complex</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">[0:v][1:v]overlay=10:10</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> output.mp4</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>-i logo.png：水印图片</li><li>-filter_complex &quot;[0:v][1:v]overlay=10:10&quot;：将水印图片添加到视频左上角（10,10）位置</li></ul><h3 id="转换-gif-动图" tabindex="-1"><a class="header-anchor" href="#转换-gif-动图"><span>转换 GIF 动图</span></a></h3><p>将视频转换为 GIF 动图</p><div class="language-sh line-numbers-mode" data-ext="sh" data-title="sh"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ffmpeg</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -i</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> input.mp4</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> output.gif</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>指定帧率制作 GIF</p><div class="language-sh line-numbers-mode" data-ext="sh" data-title="sh"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ffmpeg</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -i</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> input.mp4</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -vf</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">fps=10,scale=320:-1:flags=lanczos</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> output.gif</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>-vf &quot;fps=10,scale=320👎flags=lanczos&quot;：将视频帧率调整为 10fps，并将视频缩放为 320 像素宽，高度自动调整，使用 lanczos 重采样算法</li></ul><h3 id="视频旋转" tabindex="-1"><a class="header-anchor" href="#视频旋转"><span>视频旋转</span></a></h3><p>将视频顺时针旋转 90 度</p><div class="language-sh line-numbers-mode" data-ext="sh" data-title="sh"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ffmpeg</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -i</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> input.mp4</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -vf</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">transpose=1</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> output.mp4</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>-vf &quot;transpose=1&quot;：将视频顺时针旋转 90 度</li></ul><p>将视频逆时针旋转 90 度</p><div class="language-sh line-numbers-mode" data-ext="sh" data-title="sh"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ffmpeg</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -i</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> input.mp4</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -vf</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">transpose=2</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> output.mp4</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="视频裁剪" tabindex="-1"><a class="header-anchor" href="#视频裁剪"><span>视频裁剪</span></a></h3><h2 id="参考" tabindex="-1"><a class="header-anchor" href="#参考"><span>参考</span></a></h2><p><a href="https://ffmpeg.org" target="_blank" rel="noopener noreferrer">ffmpeg</a></p><p><a href="https://zhuanlan.zhihu.com/p/621741216" target="_blank" rel="noopener noreferrer">ffmpeg 基本使用</a></p>`,129)]))}const k=i(l,[["render",n],["__file","5n4dhycc.html.vue"]]),d=JSON.parse('{"path":"/back/5n4dhycc.html","title":"ffmpeg","lang":"zh-CN","frontmatter":{"title":"ffmpeg","createTime":"2025/01/21 15:22:42","permalink":"/back/5n4dhycc.html","watermark":true},"headers":[],"readingTime":{"minutes":7.43,"words":2230},"git":{"updatedTime":1755670488000,"contributors":[{"name":"唐道勇","username":"唐道勇","email":"matias@tangdaoyongdeMacBook-Pro.local","commits":1,"avatar":"https://avatars.githubusercontent.com/唐道勇?v=4","url":"https://github.com/唐道勇"}]},"filePathRelative":"notes/back/ffmpeg.md","categoryList":[{"id":"4358b5","sort":10000,"name":"notes"},{"id":"7b2314","sort":10019,"name":"back"}],"bulletin":false}');export{k as comp,d as data};
