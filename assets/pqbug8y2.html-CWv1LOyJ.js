import{_ as i,c as e,a,o as t}from"./app-CS9K37Kg.js";const n={};function l(d,s){return t(),e("div",null,s[0]||(s[0]=[a(`<p>在<code>BIOS</code>里面把最常用的系统设为默认，然后在那个系统里编辑引导菜单。</p><ul><li><code>Ubuntu</code>就修改<code>GRUB</code></li><li><code>Windows</code>就改<code>BCD</code></li></ul><h2 id="ubuntu" tabindex="-1"><a class="header-anchor" href="#ubuntu"><span>Ubuntu</span></a></h2><p>如果你的 Ubuntu GRUB 启动菜单没有 Windows，你可以手动修改 GRUB 配置，让它显示 Windows Boot Manager 选项。</p><h3 id="使用-os-prober-自动检测" tabindex="-1"><a class="header-anchor" href="#使用-os-prober-自动检测"><span>使用 os-prober 自动检测</span></a></h3><h4 id="确保-os-prober-已安装" tabindex="-1"><a class="header-anchor" href="#确保-os-prober-已安装"><span>确保 os-prober 已安装</span></a></h4><p>打开终端，运行：</p><div class="language-sh line-numbers-mode" data-ext="sh" data-title="sh"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> apt</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> update</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> apt</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> install</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> os-prober</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -y</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="运行-os-prober-发现-windows" tabindex="-1"><a class="header-anchor" href="#运行-os-prober-发现-windows"><span>运行 os-prober 发现 Windows</span></a></h4><div class="language-sh line-numbers-mode" data-ext="sh" data-title="sh"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> os-prober</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>如果 Windows 存在，它应该会返回类似：</p><div class="language-sh line-numbers-mode" data-ext="sh" data-title="sh"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">/dev/nvme0n1p1:Windows</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Boot</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Manager:Windows:efi</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="更新-grub-配置" tabindex="-1"><a class="header-anchor" href="#更新-grub-配置"><span>更新 GRUB 配置</span></a></h4><div class="language-sh line-numbers-mode" data-ext="sh" data-title="sh"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> update-grub</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>如果 os-prober 找到了 Windows，update-grub 应该会输出：</p><div class="language-sh line-numbers-mode" data-ext="sh" data-title="sh"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Found</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Windows</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Boot</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Manager</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> on</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /dev/nvme0n1p1</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>然后重启：</p><div class="language-sh line-numbers-mode" data-ext="sh" data-title="sh"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> reboot</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>重启后，GRUB 菜单里应该会有 Windows 选项。</p><h3 id="手动添加-windows-入口" tabindex="-1"><a class="header-anchor" href="#手动添加-windows-入口"><span>手动添加 Windows 入口</span></a></h3><p>如果 os-prober 无法找到 Windows，可以手动添加。</p><h4 id="编辑-40-custom-配置" tabindex="-1"><a class="header-anchor" href="#编辑-40-custom-配置"><span>编辑 40_custom 配置</span></a></h4><p>运行：</p><div class="language-sh line-numbers-mode" data-ext="sh" data-title="sh"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> nano</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /etc/grub.d/40_custom</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>在文件底部添加以下内容：</p><div class="language-sh line-numbers-mode" data-ext="sh" data-title="sh"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">menuentry</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Windows 11</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> {</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">    insmod</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> part_gpt</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">    insmod</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> chain</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">    set</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> root=</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">hd0,gpt1</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">    chainloader</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /EFI/Microsoft/Boot/bootmgfw.efi</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>(hd0,gpt1) 代表 Windows 的 EFI 分区，通常是 第一个分区。</li><li>如果你的 EFI 分区是 <code>/dev/sda1</code>，用 (hd0,gpt1)。</li><li>如果是 <code>/dev/nvme0n1p1</code>，用 (hd0,gpt1)（GRUB 识别方式相同）。</li></ul><h4 id="更新-grub" tabindex="-1"><a class="header-anchor" href="#更新-grub"><span>更新 GRUB</span></a></h4><div class="language-sh line-numbers-mode" data-ext="sh" data-title="sh"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> update-grub</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>然后重启：</p><div class="language-sh line-numbers-mode" data-ext="sh" data-title="sh"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> reboot</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="检查-bios-引导顺序" tabindex="-1"><a class="header-anchor" href="#检查-bios-引导顺序"><span>检查 BIOS 引导顺序</span></a></h3><p>有时候 GRUB 不显示 Windows，是因为 BIOS/UEFI 设置 了错误的引导顺序。</p><ol><li>重启电脑，进入 BIOS（通常按 F2 或 DEL）。</li><li>找到 Boot Order（引导顺序）。</li><li>确保 Ubuntu 和 Windows Boot Manager 都在列表里。</li><li>先选择 Ubuntu，然后重启，检查 GRUB 是否显示 Windows。</li></ol><h3 id="使用-efibootmgr-确保-windows-仍然可用" tabindex="-1"><a class="header-anchor" href="#使用-efibootmgr-确保-windows-仍然可用"><span>使用 efibootmgr 确保 Windows 仍然可用</span></a></h3><p>在终端运行：</p><div class="language-sh line-numbers-mode" data-ext="sh" data-title="sh"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> efibootmgr</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>它会显示所有 EFI 启动项，比如：</p><div class="language-sh line-numbers-mode" data-ext="sh" data-title="sh"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Boot0000*</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Windows</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Boot</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Manager</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Boot0001*</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Ubuntu</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>如果 Windows Boot Manager 不见了，可以手动添加：</p><div class="language-sh line-numbers-mode" data-ext="sh" data-title="sh"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> efibootmgr</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --create</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --disk</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /dev/nvme0n1</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --part</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 1</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --label</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Windows Boot Manager</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --loader</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">\\EFI\\Microsoft\\Boot\\bootmgfw.efi</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>然后重启。</p><h3 id="总结" tabindex="-1"><a class="header-anchor" href="#总结"><span>总结</span></a></h3><table><thead><tr><th style="text-align:left;">方法</th><th style="text-align:left;">适用情况</th><th style="text-align:left;">命令</th></tr></thead><tbody><tr><td style="text-align:left;">自动方式（推荐）</td><td style="text-align:left;">os-prober 可以检测到 Windows</td><td style="text-align:left;">sudo os-prober &amp;&amp; sudo update-grub</td></tr><tr><td style="text-align:left;">手动方式</td><td style="text-align:left;">os-prober 找不到 Windows</td><td style="text-align:left;">编辑 /etc/grub.d/40_custom</td></tr><tr><td style="text-align:left;">检查 BIOS</td><td style="text-align:left;">BIOS 设置不当导致 Windows 消失</td><td style="text-align:left;">进入 BIOS 调整 Boot Order</td></tr><tr><td style="text-align:left;">使用 efibootmgr</td><td style="text-align:left;">Windows Boot Manager 被删除</td><td style="text-align:left;">sudo efibootmgr --create ...</td></tr></tbody></table><h2 id="windows" tabindex="-1"><a class="header-anchor" href="#windows"><span>Windows</span></a></h2><p>在 Windows 11 上，如果你安装了 Ubuntu 但启动菜单里没有它，你可以使用 bcdedit 添加 Ubuntu 到 Windows Boot Manager 中。</p><h3 id="使用-bcdedit-手动添加-ubuntu" tabindex="-1"><a class="header-anchor" href="#使用-bcdedit-手动添加-ubuntu"><span>使用 bcdedit 手动添加 Ubuntu</span></a></h3><ol><li>确保 Ubuntu 引导文件存在</li></ol><p>首先，找到 Ubuntu 的 EFI 引导文件，一般位于：</p><div class="language-sh line-numbers-mode" data-ext="sh" data-title="sh"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">\\EFI\\ubuntu\\grubx64.efi</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>你可以用 Windows 终端 (管理员) 运行：</p><div class="language-sh line-numbers-mode" data-ext="sh" data-title="sh"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">diskpart</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>然后输入：</p><div class="language-sh line-numbers-mode" data-ext="sh" data-title="sh"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">list</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> volume</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>找到 EFI 分区（通常是 100MB、FAT32 格式）。假设 EFI 分区是 <code>Z:</code>（如果没有分配盘符，可以用 <code>assign letter=Z</code>）。</p><p>然后，检查 Ubuntu 的引导文件：</p><div class="language-sh line-numbers-mode" data-ext="sh" data-title="sh"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">dir</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Z:</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">\\E</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">FI</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">\\u</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">buntu</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">\\</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>如果 <code>grubx64.efi</code> 存在，就可以继续。</p><ol start="2"><li>添加 Ubuntu 到 Windows Boot Manager</li></ol><p>使用管理员权限打开 命令提示符 (cmd)，输入：</p><div class="language-sh line-numbers-mode" data-ext="sh" data-title="sh"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">bcdedit</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /copy</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> {current}</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /d</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Ubuntu</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>它会返回一个新的 GUID（如 <code>{xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx}</code>），复制这个 ID。</p><p>然后执行：</p><div class="language-sh line-numbers-mode" data-ext="sh" data-title="sh"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">bcdedit</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /set</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> {xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx}</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> path</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> \\E</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">FI</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">\\u</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">buntu</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">\\g</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">rubx64.efi</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">bcdedit</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /set</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> {xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx}</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> device</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> partition=Z:</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">bcdedit</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /set</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> {xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx}</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> description</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Ubuntu</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>(⚠️ 记得用你的 EFI 分区盘符 <code>Z:</code>，GUID 也要替换成上面生成的那个)</p><p>3️. 设置 Ubuntu 为默认启动项（可选）</p><p>如果你想让 Ubuntu 默认启动，而不是 Windows，运行：</p><div class="language-sh line-numbers-mode" data-ext="sh" data-title="sh"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">bcdedit</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /default</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> {xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>或者修改引导顺序：</p><div class="language-sh line-numbers-mode" data-ext="sh" data-title="sh"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">bcdedit</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /displayorder</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> {xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx}</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /addfirst</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="使用-easybcd-适合新手" tabindex="-1"><a class="header-anchor" href="#使用-easybcd-适合新手"><span>使用 EasyBCD（适合新手）</span></a></h3><p>如果你觉得 bcdedit 复杂，可以使用 EasyBCD：</p><ol><li>下载并安装 EasyBCD（免费版）。</li><li>打开软件，点击 “Add New Entry”（添加新项）。</li><li>选择 “Linux/BSD” -&gt; Type 选择 “GRUB 2”。</li><li>选择 Ubuntu 安装所在的 EFI 分区。</li><li>点击 “Add Entry”，然后 “Save”。</li><li>重启，Ubuntu 现在应该会出现在启动菜单里。</li></ol><h3 id="使用-bcdboot-修复-efi" tabindex="-1"><a class="header-anchor" href="#使用-bcdboot-修复-efi"><span>使用 bcdboot 修复 EFI</span></a></h3><p>如果 bcdedit 无法成功，你可以尝试：</p><div class="language-sh line-numbers-mode" data-ext="sh" data-title="sh"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">bcdboot</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> C:</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">\\W</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">indows</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /s</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Z:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /f</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ALL</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>然后再用 bcdedit 添加 Ubuntu。</p><h3 id="总结-1" tabindex="-1"><a class="header-anchor" href="#总结-1"><span>总结</span></a></h3><table><thead><tr><th style="text-align:center;">方法</th><th style="text-align:center;">适用情况</th><th style="text-align:center;">难度</th></tr></thead><tbody><tr><td style="text-align:center;">bcdedit</td><td style="text-align:center;">手动添加 Ubuntu 到 Windows Boot Manager</td><td style="text-align:center;">⭐⭐⭐</td></tr><tr><td style="text-align:center;">EasyBCD</td><td style="text-align:center;">GUI 操作，适合新手</td><td style="text-align:center;">⭐</td></tr><tr><td style="text-align:center;">bcdboot</td><td style="text-align:center;">EFI 出问题时修复</td><td style="text-align:center;">⭐⭐⭐⭐</td></tr></tbody></table><p>试试看 bcdedit 或 EasyBCD，如果 Ubuntu 仍然无法启动，可以进入 BIOS（按 <code>F2/DEL/F12</code>）检查 UEFI 引导顺序！</p>`,80)]))}const p=i(n,[["render",l],["__file","pqbug8y2.html.vue"]]),r=JSON.parse('{"path":"/computer/pqbug8y2.html","title":"双硬盘双系统设置开机启动","lang":"zh-CN","frontmatter":{"title":"双硬盘双系统设置开机启动","createTime":"2025/03/07 13:53:46","permalink":"/computer/pqbug8y2.html","watermark":true},"headers":[],"readingTime":{"minutes":3.67,"words":1100},"git":{"updatedTime":1755670488000,"contributors":[{"name":"唐道勇","username":"唐道勇","email":"matias@tangdaoyongdeMacBook-Pro.local","commits":1,"avatar":"https://avatars.githubusercontent.com/唐道勇?v=4","url":"https://github.com/唐道勇"}]},"filePathRelative":"notes/computer/双硬盘双系统设置开机启动.md","bulletin":false}');export{p as comp,r as data};
