import{_ as e,c as a,a as i,o as l}from"./app-CS9K37Kg.js";const t={};function n(d,s){return l(),a("div",null,s[0]||(s[0]=[i(`<h1 id="问题处理" tabindex="-1"><a class="header-anchor" href="#问题处理"><span>问题处理</span></a></h1><h2 id="解决shell脚本cd命令不能进入指定目录的问题" tabindex="-1"><a class="header-anchor" href="#解决shell脚本cd命令不能进入指定目录的问题"><span>解决shell脚本cd命令不能进入指定目录的问题</span></a></h2><p>在linux环境下，我们经常会有通过shell脚本进入指定目录的操作，脚本cddir.sh内容如下:</p><div class="language-sh line-numbers-mode" data-ext="sh" data-title="sh"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#!/bin/sh</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">path</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">/usr/local</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">cd</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> $path</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>./cddir.sh 执行之后并不会进入local目录， 这是因为shell在执行脚本时，会创建一个子shell，并在子shell中逐个执行脚本中的指令； 而子shell中从父shell中继承了环境变量，但是执行后不会改变父shell的环境变量</p><p>解决方法:</p><div class="language- line-numbers-mode" data-ext="" data-title=""><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>source cddir.sh</span></span>
<span class="line"><span>. start.sh</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>source命令是在当前shell环境下执行脚本，不会创建子shell; <code>. start.sh</code> 前的 <code>.</code> 不能忘记，代表的是在当前bash环境下读取并执行FileName中的命令，否则会新开子进程执行FileName中的命令，此时cd无法再当前bash环境跳转。 source、sh、bash、./执行脚本的区别：http://blog.csdn.net/yun90/article/details/22667829 （2）添加sh目录到环境变量目的是一方面可以在任何目录下执行FileName中命令，另外可以在该sh目录下添加多个此类脚本。</p>`,8)]))}const h=e(t,[["render",n],["__file","index.html.vue"]]),c=JSON.parse('{"path":"/article/ki68v3uc/","title":"Shell问题处理","lang":"zh-CN","frontmatter":{"title":"Shell问题处理","createTime":"2025/01/21 15:34:49","permalink":"/article/ki68v3uc/","watermark":true},"headers":[],"readingTime":{"minutes":1.08,"words":323},"git":{"updatedTime":1755670488000,"contributors":[{"name":"唐道勇","username":"唐道勇","email":"matias@tangdaoyongdeMacBook-Pro.local","commits":1,"avatar":"https://avatars.githubusercontent.com/唐道勇?v=4","url":"https://github.com/唐道勇"}]},"filePathRelative":"notes/shell/Shell问题处理.md","categoryList":[{"id":"4358b5","sort":10000,"name":"notes"},{"id":"cddda9","sort":10051,"name":"shell"}],"bulletin":false}');export{h as comp,c as data};
