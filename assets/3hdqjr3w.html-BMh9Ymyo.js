import{_ as i,c as a,a as n,o as e}from"./app-CS9K37Kg.js";const l={};function t(h,s){return e(),a("div",null,s[0]||(s[0]=[n(`<h1 id="redis配置远程连接" tabindex="-1"><a class="header-anchor" href="#redis配置远程连接"><span>Redis配置远程连接</span></a></h1><h2 id="安装redis" tabindex="-1"><a class="header-anchor" href="#安装redis"><span>安装Redis</span></a></h2><ul><li>查看版本</li></ul><div class="language-sh line-numbers-mode" data-ext="sh" data-title="sh"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> redis-server</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -v</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Command</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">redis-server</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> not</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> found,</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> but</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> can</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> be</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> installed</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> with:</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">apt</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> install</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> redis-server</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>安装</li></ul><div class="language-sh line-numbers-mode" data-ext="sh" data-title="sh"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> apt</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> install</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> redis-server</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Reading</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> package</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> lists...</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Done</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Building</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> dependency</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> tree...</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Done</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Reading</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> state</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> information...</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Done</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">The</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> following</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> packages</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> were</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> automatically</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> installed</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> and</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> are</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> no</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> longer</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> required:</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">  libmariadb3</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> mariadb-common</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Use</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">apt autoremove</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> to</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> remove</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> them.</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">The</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> following</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> additional</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> packages</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> will</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> be</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> installed:</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">  libjemalloc2</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> liblua5.1-0</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> liblzf1</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> lua-bitop</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> lua-cjson</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> redis-tools</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Suggested</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> packages:</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">  ruby-redis</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">The</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> following</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> NEW</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> packages</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> will</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> be</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> installed:</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">  libjemalloc2</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> liblua5.1-0</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> liblzf1</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> lua-bitop</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> lua-cjson</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> redis-server</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> redis-tools</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">0</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> upgraded,</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 7</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> newly</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> installed,</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 0</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> to</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> remove</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> and</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 76</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> not</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> upgraded.</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Need</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> to</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> get</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 1,273</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> kB</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> of</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> archives.</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">After</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> this</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> operation,</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 5,725</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> kB</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> of</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> additional</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> disk</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> space</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> will</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> be</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> used.</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Do</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> you</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> want</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> to</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> continue?</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> [Y/n] y</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Get:1</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> http://mirrors.cloud.aliyuncs.com/ubuntu</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> jammy/universe</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> amd64</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> libjemalloc2</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> amd64</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 5.2.1-4ubuntu1</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> [240 </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">kB]</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Get:2</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> http://mirrors.cloud.aliyuncs.com/ubuntu</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> jammy/universe</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> amd64</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> liblua5.1-0</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> amd64</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 5.1.5-8.1build4</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> [99.9 </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">kB]</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Get:3</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> http://mirrors.cloud.aliyuncs.com/ubuntu</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> jammy/universe</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> amd64</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> liblzf1</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> amd64</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 3.6-3</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> [7,444 </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">B]</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Get:4</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> http://mirrors.cloud.aliyuncs.com/ubuntu</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> jammy/universe</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> amd64</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> lua-bitop</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> amd64</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 1.0.2-5</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> [6,680 </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">B]</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Get:5</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> http://mirrors.cloud.aliyuncs.com/ubuntu</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> jammy/universe</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> amd64</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> lua-cjson</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> amd64</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 2.1.0+dfsg-2.1</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> [17.4 </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">kB]</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Get:6</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> http://mirrors.cloud.aliyuncs.com/ubuntu</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> jammy/universe</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> amd64</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> redis-tools</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> amd64</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 5:6.0.16-1ubunt</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">u1</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> [856 </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">kB]</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Get:7</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> http://mirrors.cloud.aliyuncs.com/ubuntu</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> jammy/universe</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> amd64</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> redis-server</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> amd64</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 5:6.0.16-1ubuntu1</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> [45.9 </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">kB]</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Fetched</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 1,273</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> kB</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> in</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 0s</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> (4,570 </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">kB/s</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">)</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Selecting</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> previously</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> unselected</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> package</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> libjemalloc2:amd64.</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Reading</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> database</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ...</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 81040</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> files</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> and</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> directories</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> currently</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> installed.</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Preparing</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> to</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> unpack</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> .../0-libjemalloc2_5.2.1-4ubuntu1_amd64.deb</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ...</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Unpacking</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> libjemalloc2:amd64</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> (5.2.1-4ubuntu1) ...</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Selecting</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> previously</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> unselected</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> package</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> liblua5.1-0:amd64.</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Preparing</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> to</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> unpack</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> .../1-liblua5.1-0_5.1.5-8.1build4_amd64.deb</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ...</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Unpacking</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> liblua5.1-0:amd64</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> (5.1.5-8.1build4) ...</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Selecting</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> previously</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> unselected</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> package</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> liblzf1:amd64.</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Preparing</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> to</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> unpack</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> .../2-liblzf1_3.6-3_amd64.deb</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ...</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Unpacking</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> liblzf1:amd64</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> (3.6-3) ...</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Selecting</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> previously</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> unselected</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> package</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> lua-bitop:amd64.</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Preparing</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> to</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> unpack</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> .../3-lua-bitop_1.0.2-5_amd64.deb</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ...</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Unpacking</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> lua-bitop:amd64</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> (1.0.2-5) ...</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Selecting</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> previously</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> unselected</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> package</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> lua-cjson:amd64.</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Preparing</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> to</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> unpack</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> .../4-lua-cjson_2.1.0+dfsg-2.1_amd64.deb</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ...</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Unpacking</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> lua-cjson:amd64</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> (2.1.0+dfsg-2.1) ...</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Selecting</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> previously</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> unselected</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> package</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> redis-tools.</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Preparing</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> to</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> unpack</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> .../5-redis-tools_5%3a6.0.16-1ubuntu1_amd64.deb</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ...</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Unpacking</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> redis-tools</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> (5:6.0.16-1ubuntu1) ...</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Selecting</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> previously</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> unselected</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> package</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> redis-server.</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Preparing</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> to</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> unpack</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> .../6-redis-server_5%3a6.0.16-1ubuntu1_amd64.deb</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ...</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Unpacking</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> redis-server</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> (5:6.0.16-1ubuntu1) ...</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Setting</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> up</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> libjemalloc2:amd64</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> (5.2.1-4ubuntu1) ...</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Setting</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> up</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> lua-cjson:amd64</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> (2.1.0+dfsg-2.1) ...</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Setting</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> up</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> liblzf1:amd64</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> (3.6-3) ...</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Setting</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> up</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> lua-bitop:amd64</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> (1.0.2-5) ...</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Setting</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> up</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> liblua5.1-0:amd64</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> (5.1.5-8.1build4) ...</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Setting</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> up</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> redis-tools</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> (5:6.0.16-1ubuntu1) ...</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Setting</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> up</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> redis-server</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> (5:6.0.16-1ubuntu1) ...</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Created</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> symlink</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /etc/systemd/system/redis.service</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> →</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /lib/systemd/system/redis-server.service.</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Created</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> symlink</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /etc/systemd/system/multi-user.target.wants/redis-server.service</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> →</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /lib/systemd/system/redis-server.service.</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Processing</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> triggers</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> for</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> man-db</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> (2.10.2-1) ...</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Processing</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> triggers</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> for</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> libc-bin</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> (2.35-0ubuntu3.4) ...</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Scanning</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> processes...</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Scanning</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> candidates...</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Scanning</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> linux</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> images...</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Running</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> kernel</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> seems</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> to</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> be</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> up-to-date.</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Restarting</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> services...</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Service</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> restarts</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> being</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> deferred:</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> systemctl</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> restart</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ModemManager.service</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> systemctl</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> restart</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> aegis.service</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> systemctl</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> restart</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> atd.service</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> systemctl</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> restart</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> chrony.service</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> systemctl</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> restart</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> cron.service</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> /etc/needrestart/restart.d/dbus.service</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> systemctl</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> restart</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> getty@tty1.service</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> systemctl</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> restart</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> multipathd.service</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> systemctl</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> restart</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> networkd-dispatcher.service</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> systemctl</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> restart</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> nginx.service</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> systemctl</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> restart</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> packagekit.service</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> systemctl</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> restart</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> polkit.service</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> systemctl</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> restart</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> rsyslog.service</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> systemctl</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> restart</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> serial-getty@ttyS0.service</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> systemctl</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> restart</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ssh.service</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> systemctl</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> restart</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> systemd-journald.service</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> systemctl</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> restart</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> systemd-logind.service</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> /etc/needrestart/restart.d/systemd-manager</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> systemctl</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> restart</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> systemd-networkd.service</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> systemctl</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> restart</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> systemd-resolved.service</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> systemctl</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> restart</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> systemd-udevd.service</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> systemctl</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> restart</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> tuned.service</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> systemctl</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> restart</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> udisks2.service</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> systemctl</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> restart</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> unattended-upgrades.service</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> systemctl</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> restart</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> user@0.service</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">No</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> containers</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> need</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> to</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> be</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> restarted.</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">No</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> user</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> sessions</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> are</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> running</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> outdated</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> binaries.</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">No</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> VM</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> guests</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> are</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> running</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> outdated</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> hypervisor</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> (qemu) binaries on this host.</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="启动" tabindex="-1"><a class="header-anchor" href="#启动"><span>启动</span></a></h2><p><code>service redis-server start</code>启动。 重启<code>redis</code>，如<code>Ubuntu</code>中使用<code>service redis-server restart</code>命令。</p><h2 id="服务器的安全组里面配置入口规则" tabindex="-1"><a class="header-anchor" href="#服务器的安全组里面配置入口规则"><span>服务器的安全组里面配置入口规则</span></a></h2><p><em>注意</em> 配置了入口规则，可能不是及时生效哦。</p><h2 id="配置允许远程连接" tabindex="-1"><a class="header-anchor" href="#配置允许远程连接"><span>配置允许远程连接</span></a></h2><p>修改配置文件<code>/etc/redis/redis.conf</code>：</p><p>注释<code>bind 127.0.0.1</code>以便允许远程连接，或者配置需要指定的地址。</p><div class="language-sh line-numbers-mode" data-ext="sh" data-title="sh"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">################################## NETWORK #####################################</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># By default, if no &quot;bind&quot; configuration directive is specified, Redis listens</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># for connections from all available network interfaces on the host machine.</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># It is possible to listen to just one or multiple selected interfaces using</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># the &quot;bind&quot; configuration directive, followed by one or more IP addresses.</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># Examples:</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># bind 192.168.1.100 10.0.0.1</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># bind 127.0.0.1 ::1</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># ~~~ WARNING ~~~ If the computer running Redis is directly exposed to the</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># internet, binding to all the interfaces is dangerous and will expose the</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># instance to everybody on the internet. So by default we uncomment the</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># following bind directive, that will force Redis to listen only on the</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># IPv4 loopback interface address (this means Redis will only be able to</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># accept client connections from the same host that it is running on).</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># IF YOU ARE SURE YOU WANT YOUR INSTANCE TO LISTEN TO ALL THE INTERFACES</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># JUST COMMENT OUT THE FOLLOWING LINE.</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># bind 127.0.0.1 ::1</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>修改<code>protected-mode</code>为<code>no</code>以允许远程连接。</p><div class="language-sh line-numbers-mode" data-ext="sh" data-title="sh"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># Protected mode is a layer of security protection, in order to avoid that</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># Redis instances left open on the internet are accessed and exploited.</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># When protected mode is on and if:</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 1) The server is not binding explicitly to a set of addresses using the</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#    &quot;bind&quot; directive.</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 2) No password is configured.</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># The server only accepts connections from clients connecting from the</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># IPv4 and IPv6 loopback addresses 127.0.0.1 and ::1, and from Unix domain</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># sockets.</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># By default protected mode is enabled. You should disable it only if</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># you are sure you want clients from other hosts to connect to Redis</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># even if no authentication is configured, nor a specific set of interfaces</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># are explicitly listed using the &quot;bind&quot; directive.</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">protected-mode</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> no</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>重启<code>redis</code>，如<code>Ubuntu</code>中使用<code>service redis-server restart</code>命令。</p><h2 id="配置密码" tabindex="-1"><a class="header-anchor" href="#配置密码"><span>配置密码</span></a></h2><p>配置文件中设置<code>requirepass PASSWORD</code>，其中<code>PASSWORD</code>就是设置的密码，可以自己随便设置。</p><div class="language-sh line-numbers-mode" data-ext="sh" data-title="sh"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">################################## SECURITY ###################################</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># Require clients to issue AUTH &lt;PASSWORD&gt; before processing any other</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># commands.  This might be useful in environments in which you do not trust</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># others with access to the host running redis-server.</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># This should stay commented out for backward compatibility and because most</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># people do not need auth (e.g. they run their own servers).</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># Warning: since Redis is pretty fast an outside user can try up to</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 150k passwords per second against a good box. This means that you should</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># use a very strong password otherwise it will be very easy to break.</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">requirepass</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> ********</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># Command renaming.</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># It is possible to change the name of dangerous commands in a shared</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># environment. For instance the CONFIG command may be renamed into something</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># hard to guess so that it will still be available for internal-use tools</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># but not available for general clients.</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># Example:</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># rename-command CONFIG b840fc02d524045429941cc15f59e41cb7be6c52</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># It is also possible to completely kill a command by renaming it into</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># an empty string:</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># rename-command CONFIG &quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># Please note that changing the name of commands that are logged into the</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># AOF file or transmitted to replicas may cause problems.</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>Redis 6</code>中<code>requirepass</code>只是兼容配置</li></ul><div class="language-sh line-numbers-mode" data-ext="sh" data-title="sh"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">################################## SECURITY ###################################</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># Warning: since Redis is pretty fast, an outside user can try up to</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 1 million passwords per second against a modern box. This means that you</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># should use very strong passwords, otherwise they will be very easy to break.</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># Note that because the password is really a shared secret between the client</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># and the server, and should not be memorized by any human, the password</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># can be easily a long string from /dev/urandom or whatever, so by using a</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># long and unguessable password no brute force attack will be possible.</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># Redis ACL users are defined in the following format:</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#   user &lt;username&gt; ... acl rules ...</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># For example:</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#   user worker +@list +@connection ~jobs:* on &gt;ffa9203c493aa99</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># The special username &quot;default&quot; is used for new connections. If this user</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># has the &quot;nopass&quot; rule, then new connections will be immediately authenticated</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># as the &quot;default&quot; user without the need of any password provided via the</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># AUTH command. Otherwise if the &quot;default&quot; user is not flagged with &quot;nopass&quot;</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># the connections will start in not authenticated state, and will require</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># AUTH (or the HELLO command AUTH option) in order to be authenticated and</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># start to work.</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># The ACL rules that describe what a user can do are the following:</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#  on           Enable the user: it is possible to authenticate as this user.</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#  off          Disable the user: it&#39;s no longer possible to authenticate</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#               with this user, however the already authenticated connections</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#               will still work.</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#  +&lt;command&gt;   Allow the execution of that command</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#  -&lt;command&gt;   Disallow the execution of that command</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#  +@&lt;category&gt; Allow the execution of all the commands in such category</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#               with valid categories are like @admin, @set, @sortedset, ...</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#               and so forth, see the full list in the server.c file where</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#               the Redis command table is described and defined.</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#               The special category @all means all the commands, but currently</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#               present in the server, and that will be loaded in the future</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#               via modules.</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#  +&lt;command&gt;|subcommand    Allow a specific subcommand of an otherwise</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#                           disabled command. Note that this form is not</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#                           allowed as negative like -DEBUG|SEGFAULT, but</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#                           only additive starting with &quot;+&quot;.</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#  allcommands  Alias for +@all. Note that it implies the ability to execute</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#               all the future commands loaded via the modules system.</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#  nocommands   Alias for -@all.</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#  ~&lt;pattern&gt;   Add a pattern of keys that can be mentioned as part of</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#               commands. For instance ~* allows all the keys. The pattern</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#               is a glob-style pattern like the one of KEYS.</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#               It is possible to specify multiple patterns.</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#  allkeys      Alias for ~*</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#  resetkeys    Flush the list of allowed keys patterns.</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#  &gt;&lt;password&gt;  Add this password to the list of valid password for the user.</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#               For example &gt;mypass will add &quot;mypass&quot; to the list.</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#               This directive clears the &quot;nopass&quot; flag (see later).</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#  &lt;&lt;password&gt;  Remove this password from the list of valid passwords.</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#  nopass       All the set passwords of the user are removed, and the user</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#               is flagged as requiring no password: it means that every</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#               password will work against this user. If this directive is</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#               used for the default user, every new connection will be</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#               immediately authenticated with the default user without</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#               any explicit AUTH command required. Note that the &quot;resetpass&quot;</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#               directive will clear this condition.</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#  resetpass    Flush the list of allowed passwords. Moreover removes the</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#               &quot;nopass&quot; status. After &quot;resetpass&quot; the user has no associated</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#               passwords and there is no way to authenticate without adding</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#               some password (or setting it as &quot;nopass&quot; later).</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#  reset        Performs the following actions: resetpass, resetkeys, off,</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#               -@all. The user returns to the same state it has immediately</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#               after its creation.</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># ACL rules can be specified in any order: for instance you can start with</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># passwords, then flags, or key patterns. However note that the additive</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># and subtractive rules will CHANGE MEANING depending on the ordering.</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># For instance see the following example:</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#   user alice on +@all -DEBUG ~* &gt;somepassword</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># This will allow &quot;alice&quot; to use all the commands with the exception of the</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># DEBUG command, since +@all added all the commands to the set of the commands</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># alice can use, and later DEBUG was removed. However if we invert the order</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># of two ACL rules the result will be different:</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#   user alice on -DEBUG +@all ~* &gt;somepassword</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># Now DEBUG was removed when alice had yet no commands in the set of allowed</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># commands, later all the commands are added, so the user will be able to</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># execute everything.</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># Basically ACL rules are processed left-to-right.</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># For more information about ACL configuration please refer to</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># the Redis web site at https://redis.io/topics/acl</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># ACL LOG</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># The ACL Log tracks failed commands and authentication events associated</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># with ACLs. The ACL Log is useful to troubleshoot failed commands blocked</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># by ACLs. The ACL Log is stored in memory. You can reclaim memory with</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># ACL LOG RESET. Define the maximum entry length of the ACL Log below.</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">acllog-max-len</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 128</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># Using an external ACL file</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># Instead of configuring users here in this file, it is possible to use</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># a stand-alone file just listing users. The two methods cannot be mixed:</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># if you configure users here and at the same time you activate the external</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># ACL file, the server will refuse to start.</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># The format of the external ACL user file is exactly the same as the</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># format that is used inside redis.conf to describe users.</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># aclfile /etc/redis/users.acl</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># IMPORTANT NOTE: starting with Redis 6 &quot;requirepass&quot; is just a compatibility</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># layer on top of the new ACL system. The option effect will be just setting</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># the password for the default user. Clients will still authenticate using</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># AUTH &lt;password&gt; as usually, or more explicitly with AUTH default &lt;password&gt;</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># if they follow the new protocol: both will work.</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">requirepass</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> ********</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># Command renaming (DEPRECATED).</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>设置<code>user user-name</code>以指定用户名，可以不设置。</p><h2 id="本地进入reids客户端" tabindex="-1"><a class="header-anchor" href="#本地进入reids客户端"><span>本地进入Reids客户端</span></a></h2><div class="language-sh line-numbers-mode" data-ext="sh" data-title="sh"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> redis-cli</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">127.0.0.1:6379</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p><code>exit</code>可以退出<code>redis</code>.</p><h2 id="连接redis被拒绝" tabindex="-1"><a class="header-anchor" href="#连接redis被拒绝"><span>连接redis被拒绝</span></a></h2><p>1、网络不通</p><p>可以用ping ip的命令测试</p><p>2、端口不通</p><p>可以用 telnet ip port 的命令测试</p><p>3、密码不对</p><p>4、redis conf文件bind的ip不对</p><p>解决Redis被拒绝连接问题（redis被拒绝怎么解决） 解决Redis被拒绝连接问题</p><p>Redis是一款高性能的键值对存储数据库，很多应用在使用它来进行数据缓存和持久化。但在使用过程中，有些用户会遇到Redis被拒绝连接的问题，因此本文将介绍如何解决这个问题。</p><ol><li>检查Redis是否正确安装和启动</li></ol><p>我们需要检查Redis是否已正确安装且正在运行。在Linux系统中，您可以使用以下命令来检查Redis是否正在运行：</p><p>$ systemctl status redis 如果Redis没有运行，则可以使用以下命令启动Redis：</p><p>$ systemctl start redis 2. 检查Redis配置文件是否正确</p><p>Redis的配置文件通常位于/etc/redis/redis.conf或/etc/redis.conf，我们需要确保配置文件中正确配置了Redis实例的主机地址、端口号以及认证密码。如果有多个Redis实例，则需要检查每个配置文件。</p><p>bind 127.0.0.1 port 6379 requirepass mypassword 3. 检查防火墙</p><p>如果Redis服务器的防火墙配置不正确，它可能会拒绝来自客户端的连接请求。因此，我们需要确保Redis服务器端口的防火墙规则正确。</p><p>在Linux系统中，可以使用以下命令检查防火墙规则：</p><p>$ sudo iptables -L 如果有防火墙规则阻止了Redis端口，您可以使用以下命令来允许Redis端口：</p><p>$ sudo iptables -A INPUT -p tcp --dport 6379 -j ACCEPT 4. 检查SELinux</p><p>在某些情况下，SELinux可能会阻止Redis接受来自客户端的连接请求。可以使用以下命令来检查SELinux状态：</p><p>$ getenforce 如果SELinux状态为enforcing，可以使用以下命令暂时禁用它：</p><p>$ setenforce 0 如果您想永久禁用SELinux，可以编辑/etc/selinux/config文件，并将SELINUX设置为disabled。</p><ol start="5"><li>检查网络连接</li></ol><p>如果Redis服务器和客户端在不同的网络上，则可能需要检查网络连接是否正确。您可以使用以下命令在Redis服务器上测试与客户端的网络连接：</p><p>$ ping client_ip_address 如果ping测试成功，则网络连接正常。如果ping测试失败，则需要检查网络配置是否正确。在大多数情况下，这是由于防火墙规则造成的。</p><p>结论</p><p>Redis是一款强大的键值对存储数据库，它被广泛用于数据缓存和持久化。但是，当Redis被拒绝连接时，它可能会影响应用程序的性能。通过上述几个步骤，您可以轻松地解决Redis被拒绝连接的问题。如果您仍遇到问题，请参考Redis官方文档或寻求其他Redis用户的帮助。</p>`,53)]))}const k=i(l,[["render",t],["__file","3hdqjr3w.html.vue"]]),d=JSON.parse('{"path":"/article/3hdqjr3w.html","title":"Redis配置远程连接","lang":"zh-CN","frontmatter":{"title":"Redis配置远程连接","createTime":"2025/01/20 18:48:45","permalink":"/article/3hdqjr3w.html","watermark":true},"headers":[],"readingTime":{"minutes":10.08,"words":3025},"git":{"updatedTime":1755670488000,"contributors":[{"name":"唐道勇","username":"唐道勇","email":"matias@tangdaoyongdeMacBook-Pro.local","commits":1,"avatar":"https://avatars.githubusercontent.com/唐道勇?v=4","url":"https://github.com/唐道勇"}]},"filePathRelative":"notes/redis/Redis配置远程连接.md","categoryList":[{"id":"4358b5","sort":10000,"name":"notes"},{"id":"a9a507","sort":10049,"name":"redis"}],"bulletin":false}');export{k as comp,d as data};
