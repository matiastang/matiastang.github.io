import{_ as i,c as a,a as e,o as t}from"./app-CS9K37Kg.js";const l={};function n(d,s){return t(),a("div",null,s[0]||(s[0]=[e(`<p>smartmontools 是一套用于监控和管理硬盘健康状态的工具，主要包括：</p><ul><li>smartctl：查询和控制硬盘的 <code>S.M.A.R.T.（Self-Monitoring, Analysis, and Reporting Technology）</code>信息</li><li>smartd：后台守护进程，定期检查硬盘健康状况并发送警报</li></ul><h2 id="主要功能" tabindex="-1"><a class="header-anchor" href="#主要功能"><span>主要功能</span></a></h2><ul><li>检查硬盘健康状态</li><li>读取 <code>S.M.A.R.T</code> 信息（温度、坏扇区、通电时间等）</li><li>运行硬盘自检（短测试、长测试）</li><li>预测硬盘故障，防止数据丢失</li></ul><h2 id="常用命令" tabindex="-1"><a class="header-anchor" href="#常用命令"><span>常用命令</span></a></h2><p>检查硬盘是否支持 <code>S.M.A.R.T</code></p><div class="language-sh line-numbers-mode" data-ext="sh" data-title="sh"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> smartctl</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -i</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /dev/sda</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>查看硬盘健康状态</p><div class="language-sh line-numbers-mode" data-ext="sh" data-title="sh"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> smartctl</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -H</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /dev/sda</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>显示 PASSED 表示健康，FAILED 可能有故障风险。</p><p>查看详细 <code>S.M.A.R.T</code> 信息</p><div class="language-sh line-numbers-mode" data-ext="sh" data-title="sh"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> smartctl</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -A</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /dev/sda</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>会显示温度、坏扇区数、错误率等关键指标。</p><p>运行硬盘自检</p><div class="language-sh line-numbers-mode" data-ext="sh" data-title="sh"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">smartctl</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -t</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> short</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /dev/sda</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">   # 运行短测试（几分钟）</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">smartctl</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -t</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> long</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /dev/sda</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">    # 运行长测试（可能超过 1 小时）</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>测试结果可以用 <code>smartctl -l selftest /dev/sda</code> 查看。</p><p>后台监控（启用 smartd）</p><div class="language-sh line-numbers-mode" data-ext="sh" data-title="sh"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">systemctl</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> enable</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> smartd</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">systemctl</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> start</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> smartd</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>smartd 进程会定期检查硬盘状态，并在发现问题时发出警告。</p><h2 id="适用场景" tabindex="-1"><a class="header-anchor" href="#适用场景"><span>适用场景</span></a></h2><ul><li>监控服务器硬盘健康状态</li><li>预测硬盘故障，防止数据丢失</li><li>定期自检，确保磁盘长期稳定运行</li></ul><p><strong>建议</strong>：服务器/重要数据存储设备应定期运行 smartctl 检查健康状况！</p><h2 id="参考" tabindex="-1"><a class="header-anchor" href="#参考"><span>参考</span></a></h2><p><a href="https://www.smartmontools.org/" target="_blank" rel="noopener noreferrer">smartmontools</a></p>`,24)]))}const h=i(l,[["render",n],["__file","q46dkqvu.html.vue"]]),p=JSON.parse('{"path":"/computer/q46dkqvu.html","title":"smartmontools 磁盘监测","lang":"zh-CN","frontmatter":{"title":"smartmontools 磁盘监测","createTime":"2025/03/04 18:03:48","permalink":"/computer/q46dkqvu.html","watermark":true},"headers":[],"readingTime":{"minutes":1.28,"words":383},"git":{"updatedTime":1755670488000,"contributors":[{"name":"唐道勇","username":"唐道勇","email":"matias@tangdaoyongdeMacBook-Pro.local","commits":1,"avatar":"https://avatars.githubusercontent.com/唐道勇?v=4","url":"https://github.com/唐道勇"}]},"filePathRelative":"notes/computer/smartmontools.md","bulletin":false}');export{h as comp,p as data};
