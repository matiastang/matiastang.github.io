import{_ as e,c as r,a,o as l}from"./app-CS9K37Kg.js";const i={};function n(d,t){return l(),r("div",null,t[0]||(t[0]=[a('<p><strong>主路由</strong>和<strong>旁路由</strong>是家庭或办公网络中常见的两种网络设备配置模式。它们的主要区别在于<strong>网络数据的流量管理方式</strong>和<strong>网络角色定位</strong>。</p><h2 id="主路由" tabindex="-1"><a class="header-anchor" href="#主路由"><span>主路由</span></a></h2><p>主路由器是家庭网络的核心设备，负责连接互联网，并将网络信号分配给其他设备。主路由器通常具有多个网络接口，可以连接多个设备，如计算机、智能手机、平板电脑等。</p><p>主路由器的主要功能包括：</p><ul><li>连接光猫（上网出口），承担整个内网的路由功能。</li><li>管理网络地址分配（DHCP）、端口转发、NAT、DNS、IPv6 等核心功能。</li></ul><p>典型场景</p><ul><li>家庭宽带、企业网络的核心路由器。</li><li>一台设备搞定：负责接入互联网和内网通信。</li></ul><p>主路由部署注意事项</p><ul><li>性能要足：需能承载全网流量。</li><li>双WAN支持：支持多拨或双宽带聚合。</li><li>IPv6支持：现代网络必备，支持 PD（Prefix Delegation）。</li><li>安全性高：需启用防火墙、端口限制等功能。</li></ul><p>常见设备：</p><ul><li>光猫自带路由功能（运营商默认配置）</li><li>华硕、网件等品牌路由器</li><li>自建软路由（<code>OpenWrt</code>、<code>iKuai</code>）</li></ul><h2 id="旁路由" tabindex="-1"><a class="header-anchor" href="#旁路由"><span>旁路由</span></a></h2><p>旁路由器是一种附加的网络设备，可以安装在主路由器旁边，以提供额外的网络功能。旁路由器通常具有一个网络接口，可以连接到主路由器的局域网（LAN）中。旁路由器可以提供一些额外的网络功能，如防火墙、VPN、负载均衡等。旁路设备通过镜像流量（流量复制）来分析或处理网络数据，而不影响主路径上的正常通信。</p><p>旁路由器的主要功能包括：</p><ul><li>提供额外的网络功能，如防火墙、VPN、负载均衡等。</li><li>提供更灵活的网络配置，可以根据需要调整网络设置。</li><li>提供更强大的网络性能，可以处理更多的网络流量。</li></ul><p>典型场景</p><ul><li>网络已经由光猫或主路由管理，但希望额外添加功能。</li><li>家庭需要科学上网、广告屏蔽，但不希望更换主路由。</li></ul><p>旁路由部署方式</p><ul><li>网关模式：设备配置为“透明代理”，通过网关或DNS劫持，将指定流量引导至旁路由。</li><li>静态路由配置：在主路由配置特定的路由规则，将目标流量导向旁路由。</li></ul><p>常见旁路由设备</p><ul><li>软路由（N100、J4125等），OpenWrt 系统</li><li>树莓派（PiHole + WireGuard）</li><li>虚拟机（PVE + OpenWrt）</li></ul><h2 id="主路由和旁路由的区别" tabindex="-1"><a class="header-anchor" href="#主路由和旁路由的区别"><span>主路由和旁路由的区别</span></a></h2><table><thead><tr><th>对比项</th><th>主路由（Main Router）</th><th>旁路由（Bypass Router）</th></tr></thead><tbody><tr><td>网络位置</td><td>直接连接运营商光猫（WAN），负责整个网络的流量</td><td>接在主路由后面，处理部分流量</td></tr><tr><td>功能</td><td>NAT、DHCP、IPv6 PD、QoS 等网络核心功能</td><td>拦截广告、科学上网、DNS加速等辅助功能</td></tr><tr><td>流量处理</td><td>处理所有进出网络的流量</td><td>仅处理需要分流的特定流量</td></tr><tr><td>配置难度</td><td>中等（需理解网络基础）</td><td>简单（配置透明代理、网关指向）</td></tr><tr><td>设备要求</td><td>性能要求高（负责全网流量）</td><td>性能要求低（只处理特定流量）</td></tr><tr><td>IP 分配</td><td>向内网设备分配 IP（DHCP Server）</td><td>不参与 IP 分配，仅透传流量</td></tr><tr><td>常见系统</td><td>OpenWrt、iKuai、ROS、企业路由器</td><td>OpenWrt、爱快、软路由、虚拟机</td></tr></tbody></table><h2 id="双软路由" tabindex="-1"><a class="header-anchor" href="#双软路由"><span>双软路由</span></a></h2><p>如果网络复杂，且追求稳定与可控性，可采用：</p><ul><li>软路由做主路由：运行 iKuai 或 OpenWrt。</li><li>旁路由辅助：用于广告拦截、科学上网等功能。</li></ul><p>例如：</p><ul><li>主路由运行 iKuai（负载均衡、多拨、流控）。</li><li>旁路由运行 OpenWrt（AdGuardHome、透明代理）。</li></ul><h2 id="总结" tabindex="-1"><a class="header-anchor" href="#总结"><span>总结</span></a></h2><p>主路由 是网络的“大脑”，负责全网流量调度。 旁路由 是网络的“外挂”，负责特定功能的流量处理。</p><h2 id="参考" tabindex="-1"><a class="header-anchor" href="#参考"><span>参考</span></a></h2><p><a href="https://openwrt.org/docs/start" target="_blank" rel="noopener noreferrer">openwrt 文档</a></p><p><a href="https://github.com/openwrt/openwrt" target="_blank" rel="noopener noreferrer">openwrt GitHub</a></p><p><a href="https://www.ikuai8.com/" target="_blank" rel="noopener noreferrer">ikuai</a></p>',34)]))}const p=e(i,[["render",n],["__file","zgyq48js.html.vue"]]),s=JSON.parse('{"path":"/network/zgyq48js.html","title":"主路由和旁路由","lang":"zh-CN","frontmatter":{"title":"主路由和旁路由","createTime":"2025/02/14 11:14:24","permalink":"/network/zgyq48js.html","watermark":true},"headers":[],"readingTime":{"minutes":3.53,"words":1058},"git":{"updatedTime":1755670488000,"contributors":[{"name":"唐道勇","username":"唐道勇","email":"matias@tangdaoyongdeMacBook-Pro.local","commits":1,"avatar":"https://avatars.githubusercontent.com/唐道勇?v=4","url":"https://github.com/唐道勇"}]},"filePathRelative":"notes/network/主路由和旁路由.md","bulletin":false}');export{p as comp,s as data};
