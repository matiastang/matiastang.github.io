import{_ as i,c as a,a as e,o as n}from"./app-CS9K37Kg.js";const t={};function l(h,s){return n(),a("div",null,s[0]||(s[0]=[e(`<h1 id="strace" tabindex="-1"><a class="header-anchor" href="#strace"><span>strace</span></a></h1><p><code>strace</code>命令可以查看发起哪些系统调用。<code>strace</code> 是一个用于跟踪系统调用的工具（需要安装），它可以帮助你分析进程的执行流程。</p><h2 id="安装" tabindex="-1"><a class="header-anchor" href="#安装"><span>安装</span></a></h2><p>如果出现如下提示，则需要安装。</p><div class="language-sh line-numbers-mode" data-ext="sh" data-title="sh"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">zsh:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> command</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> not</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> found:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> strace</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ol><li>如果你使用的是 <code>macOS</code>，你可以通过安装 <code>Homebrew</code> 来安装 <code>strace</code>。</li></ol><div class="language-sh line-numbers-mode" data-ext="sh" data-title="sh"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> brew</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> install</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> strace</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">...</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Error:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Cannot</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> install</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> under</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Rosetta</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 2</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> in</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ARM</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> default</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> prefix</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> (/opt/homebrew)</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">!</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">To</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> rerun</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> under</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ARM</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> use:</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">    arch</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -arm64</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> brew</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> install</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ...</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">To</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> install</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> under</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> x86_64,</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> install</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Homebrew</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> into</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> /usr/local.</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>是<code>M1</code>芯片，需要使用<code>arch -arm64</code>指明芯片类型。 <code>arch -arm64</code> 是一个在 <code>Unix</code> 和 <code>Unix-like</code> 操作系统（例如 <code>Linux</code> 或 <code>macOS</code>）中使用的命令，用于显示当前机器的体系结构信息。具体来说，<code>arch</code> 命令会返回当前系统的硬件架构类型，而 <code>-arm64</code> 参数则是用来指定命令输出应该以 <code>ARM64</code> 架构的形式显示。</p><div class="language-sh line-numbers-mode" data-ext="sh" data-title="sh"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> arch</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -arm64</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> brew</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> install</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> strace</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">...</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">strace:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Linux</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> is</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> required</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> for</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> this</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> software.</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">linux-headers@5.15:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Linux</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> is</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> required</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> for</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> this</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> software.</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Error:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> strace:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Unsatisfied</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> requirements</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> failed</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> this</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> build.</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>macOS</code>上有一个类似<code>Linux</code>中<code>strace</code>的工具，叫做<code>dtruss</code>。它可以用来跟踪系统调用和信号传递，类似于<code>Linux</code>中的<code>strace</code>。</p><div class="language-sh line-numbers-mode" data-ext="sh" data-title="sh"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ol start="2"><li>在<code>Ubuntu</code>中安装<code>strace</code>可以通过一下方式安装</li></ol><div class="language-sh line-numbers-mode" data-ext="sh" data-title="sh"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> apt-get</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> install</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> strace</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> apt</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> install</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> strace</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>注意：如果你的系统使用的是新版的<code>APT</code>包管理器（例如<code>Ubuntu 18.04</code>及更高版本），可能需要使用<code>apt</code>命令代替<code>apt-get</code>命令来安装<code>strace</code>。</p>`,14)]))}const k=i(t,[["render",l],["__file","index.html.vue"]]),p=JSON.parse('{"path":"/linux/k99kl7m6/","title":"strace","lang":"zh-CN","frontmatter":{"title":"strace","createTime":"2025/01/21 15:32:48","permalink":"/linux/k99kl7m6/","watermark":true},"headers":[],"readingTime":{"minutes":1.34,"words":403},"git":{"updatedTime":1755670488000,"contributors":[{"name":"唐道勇","username":"唐道勇","email":"matias@tangdaoyongdeMacBook-Pro.local","commits":1,"avatar":"https://avatars.githubusercontent.com/唐道勇?v=4","url":"https://github.com/唐道勇"}]},"filePathRelative":"notes/linux/strace.md","bulletin":false}');export{k as comp,p as data};
