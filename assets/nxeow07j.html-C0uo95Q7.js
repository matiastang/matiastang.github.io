import{_ as i,c as a,a as n,o as e}from"./app-CS9K37Kg.js";const l={};function t(p,s){return e(),a("div",null,s[0]||(s[0]=[n(`<p>在开发应用时，有些功能需要使用到设备的某些权限，例如访问相册、定位、录音等。在HarmonyOS中，可以通过在应用的配置文件中添加权限声明来获取相应的权限。</p><h2 id="添加应用权限" tabindex="-1"><a class="header-anchor" href="#添加应用权限"><span>添加应用权限</span></a></h2><p>配置应用权限需要在项目的<code>entry</code>-&gt;<code>src</code>-&gt;<code>main</code>-&gt;<code>module.json5</code>中配置，如果之前没有配置过，就没有<code>requestPermissions</code>字段需要添加。</p><p>配置项目有如下几个字段：</p><ul><li><code>name</code>：</li></ul><p>权限名称</p><p>必填</p><p>需为系统已定义的权限，取值范围请参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/app-permissions" target="_blank" rel="noopener noreferrer">应用权限列表</a>。例如<code>ohos.permission.INTERNET</code>表示网络权限。</p><ul><li><code>reason</code>：</li></ul><p>申请权限的原因</p><p>可选填写，该字段用于应用上架校验，当申请的权限为user_grant权限时必填，并且需要进行多语种适配。</p><p>使用string类资源引用。格式为<code>$string: ***</code>。</p><p>可参考<a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/declare-permissions#%E6%9D%83%E9%99%90%E4%BD%BF%E7%94%A8%E7%90%86%E7%94%B1%E7%9A%84%E6%96%87%E6%A1%88%E5%86%85%E5%AE%B9%E8%A7%84%E8%8C%83" target="_blank" rel="noopener noreferrer">权限使用理由的文案内容规范</a>。</p><ul><li><code>usedScene</code>：</li></ul><p>权限使用的场景，该字段用于应用上架校验。包括abilities和when两个子项。</p><p>usedScene必填。</p><ul><li><p>abilities：可选填写，可以配置为多个UIAbility或者ExtensionAbility名称的字符串数组。</p></li><li><p>when：可选填写，但如果配置此字段，只能填入固定值inuse（使用时）、always（始终），不能为空。</p></li></ul><p>当申请的权限为user_grant权限时建议填写。</p><h3 id="添加网络权限" tabindex="-1"><a class="header-anchor" href="#添加网络权限"><span>添加网络权限</span></a></h3><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">{</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">  &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">module</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">    // ***其他配置项***</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">    &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">requestPermissions</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> [</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">      {</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">        &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">name</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> :</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">ohos.permission.INTERNET</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">        &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">usedScene</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">          &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">abilities</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> [</span></span>
<span class="line"><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">            &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">EntryAbility</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">          ],</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">          &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">when</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">always</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">        }</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">      }</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">    ]</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">  }</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="参考" tabindex="-1"><a class="header-anchor" href="#参考"><span>参考</span></a></h2><p><a href="https://developer.huawei.com/consumer/cn/doc/harmonyos-guides/request-app-permissions" target="_blank" rel="noopener noreferrer">APP 开发-添加应用权限</a></p>`,22)]))}const r=i(l,[["render",t],["__file","nxeow07j.html.vue"]]),k=JSON.parse('{"path":"/HarmonyOS/app/nxeow07j.html","title":"添加应用权限","lang":"zh-CN","frontmatter":{"title":"添加应用权限","createTime":"2025/05/27 10:28:54","permalink":"/HarmonyOS/app/nxeow07j.html","watermark":true},"headers":[],"readingTime":{"minutes":1.55,"words":466},"git":{"updatedTime":1755670488000,"contributors":[{"name":"唐道勇","username":"唐道勇","email":"matias@tangdaoyongdeMacBook-Pro.local","commits":1,"avatar":"https://avatars.githubusercontent.com/唐道勇?v=4","url":"https://github.com/唐道勇"}]},"filePathRelative":"notes/HarmonyOS/app/添加应用权限.md","bulletin":false}');export{r as comp,k as data};
