import{_ as h,c as p,a as t,b as i,d as e,e as l,f as n,r as d,o as r}from"./app-CS9K37Kg.js";const k={};function o(c,s){const a=d("RouteLink");return r(),p("div",null,[s[8]||(s[8]=t('<p>Linux scp 命令用于 Linux 之间复制文件和目录。scp 是加密的，rcp 是不加密的，scp 是 rcp 的加强版。</p><p>scp 是 secure copy 的缩写, scp 是 linux 系统下基于 ssh 登陆进行安全的远程文件拷贝命令。</p><p>在 Linux 系统中，scp 命令是一个非常实用的工具，它基于 SSH（Secure Shell）协议，确保数据传输的安全性。</p><h2 id="语法" tabindex="-1"><a class="header-anchor" href="#语法"><span>语法</span></a></h2><div class="language-sh line-numbers-mode" data-ext="sh" data-title="sh"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">scp</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> [-1246BCpqrv] </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">[</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">-c cipher</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> [</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">-F ssh_config</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> [</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">-i identity_file</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span></span>\n<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">[</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">-l limit</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> [</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">-o ssh_option</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> [</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">-P port</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> [</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">-S program</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span></span>\n<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">[[</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">user@]host1:]file1 </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">[</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">...</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> [[</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">user@</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">host2:</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">file2</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>一般使用如下简约的格式</p><div class="language-sh line-numbers-mode" data-ext="sh" data-title="sh"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">scp</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> [选项] </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">[</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">源文件</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> [</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">目标路径</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>[选项]：用于指定 scp 命令的行为，例如递归复制、保留文件属性等。</li><li>[源文件]：要复制的文件或目录的路径。</li><li>[目标路径]：文件或目录要复制到的目标路径。</li></ul><h3 id="常用选项" tabindex="-1"><a class="header-anchor" href="#常用选项"><span>常用选项:</span></a></h3><p>以下是一些常用的 scp 命令选项：</p><ul><li>-r：递归复制整个目录。</li><li>-P：指定远程主机的 SSH 端口号（默认是 22）。</li><li>-p：保留文件的修改时间、访问时间和权限。</li><li>-v：显示详细的调试信息，有助于排查问题。</li><li>-C：启用压缩，可以加快传输速度。</li></ul><h3 id="完整选项说明" tabindex="-1"><a class="header-anchor" href="#完整选项说明"><span>完整选项说明：</span></a></h3><ul><li>-1： 强制scp命令使用协议ssh1</li><li>-2： 强制scp命令使用协议ssh2</li><li>-4： 强制scp命令只使用IPv4寻址</li><li>-6： 强制scp命令只使用IPv6寻址</li><li>-B： 使用批处理模式（传输过程中不询问传输口令或短语）</li><li>-C： 允许压缩。（将-C标志传递给ssh，从而打开压缩功能）</li><li>-p：保留原文件的修改时间，访问时间和访问权限。</li><li>-q： 不显示传输进度条。</li><li>-r： 递归复制整个目录。</li><li>-v：详细方式显示输出。scp和ssh(1)会显示出整个过程的调试信息。这些信息用于调试连接，验证和配置问题。</li><li>-c cipher： 以cipher将数据传输进行加密，这个选项将直接传递给ssh。</li><li>-F ssh_config： 指定一个替代的ssh配置文件，此参数直接传递给ssh。</li><li>-i identity_file： 从指定文件中读取传输时使用的密钥文件，此参数直接传递给ssh。</li><li>-l limit： 限定用户所能使用的带宽，以Kbit/s为单位。</li><li>-o ssh_option： 如果习惯于使用ssh_config(5)中的参数传递方式，</li><li>-P port：注意是大写的P, port是指定数据传输用到的端口号</li><li>-S program： 指定加密传输时所使用的程序。此程序必须能够理解ssh(1)的选项。</li></ul><h2 id="使用" tabindex="-1"><a class="header-anchor" href="#使用"><span>使用</span></a></h2><h3 id="从本地复制文件到远程主机" tabindex="-1"><a class="header-anchor" href="#从本地复制文件到远程主机"><span>从本地复制文件到远程主机</span></a></h3><p>假设需要把当前文件夹中的一个文件 example.txt，复制到远程主机的 <code>/home/user/</code> 目录下，可以使用以下命令：</p><div class="language-sh line-numbers-mode" data-ext="sh" data-title="sh"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> scp</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ./example.txt</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> user@remote_host:/home/user/</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>example.txt 是本地文件。</li><li>user@remote_host_ip 是远程主机的用户名和地址。</li><li>/home/user/ 是远程主机上的目标路径。</li></ul><p><strong>注意</strong> scp命令是基于 SSH（Secure Shell）协议的，如果使用<code>$ scp ./example.txt remote_host:/home/user/</code>命令执行后需要输入用户名和密码，如果使用``$ scp ./example.txt user@remote_host:/home/user/`命令执行后需要输入密码。</p>',19)),i("p",null,[s[1]||(s[1]=i("strong",null,"提示",-1)),s[2]||(s[2]=e(" 这里使用用户名和主机地址来指定远程主机，需要输入密码。也配置免密登录，使用Host别名访问。具体可参考")),l(a,{to:"/article/wli34ri0.html"},{default:n(()=>s[0]||(s[0]=[e("SSH 免密登录")])),_:1})]),s[9]||(s[9]=t(`<p>例如我们使用如下的免密登录配置：</p><div class="language-sh line-numbers-mode" data-ext="sh" data-title="sh"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Host</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> test</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">HostName</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> remote_host_ip</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">User</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> root</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Port</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 22</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">IdentityFile</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ~/.ssh/id_rsa</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>注意</strong> HostName 可以配置为域名或IP。</p><p>直接使用别名<code>test</code>来访问远程主机：</p><div class="language-sh line-numbers-mode" data-ext="sh" data-title="sh"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> scp</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ./example.txt</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> test:/home/user/</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="从远程主机复制文件到本地" tabindex="-1"><a class="header-anchor" href="#从远程主机复制文件到本地"><span>从远程主机复制文件到本地</span></a></h3><p>如果需要将远程主机上的<code>/home/user/example.txt</code>文件复制到本地的当前目录，可以使用以下命令：</p><div class="language-sh line-numbers-mode" data-ext="sh" data-title="sh"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> scp</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> user@remote_host:/home/user/example.txt</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> .</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>user@remote_host:/home/user/example.txt 是远程主机上的文件路径。</li><li>. 表示当前目录。</li></ul><h3 id="递归复制目录" tabindex="-1"><a class="header-anchor" href="#递归复制目录"><span>递归复制目录</span></a></h3><p>如果你想复制整个目录及其内容，可以使用 <code>-r</code> 选项递归复制目录。例如，将本地的 my_directory 目录复制到远程主机的 /home/user/ 目录下：</p><div class="language-sh line-numbers-mode" data-ext="sh" data-title="sh"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> scp</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -r</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> my_directory</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> user@remote_host:/home/user/</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="指定端口号" tabindex="-1"><a class="header-anchor" href="#指定端口号"><span>指定端口号</span></a></h3><p>如果远程主机的 SSH 服务运行在非默认端口（例如 2222，默认端口为22），你可以使用 -P 选项指定端口号：</p><div class="language-sh line-numbers-mode" data-ext="sh" data-title="sh"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> scp</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -P</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 2222</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> example.txt</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> user@remote_host:/home/user/</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div>`,15)),i("p",null,[s[4]||(s[4]=i("strong",null,"提示",-1)),s[5]||(s[5]=e(" 如果使用")),l(a,{to:"/article/wli34ri0.html"},{default:n(()=>s[3]||(s[3]=[e("SSH 免密登录")])),_:1}),s[6]||(s[6]=e("则需要在配置的时候指定端口。"))]),s[10]||(s[10]=t(`<h3 id="保留文件属性" tabindex="-1"><a class="header-anchor" href="#保留文件属性"><span>保留文件属性</span></a></h3><p>如果你想在复制文件时保留文件的修改时间、访问时间和权限，可以使用 -p 选项：</p><div class="language-sh line-numbers-mode" data-ext="sh" data-title="sh"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> scp</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -p</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> example.txt</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> user@remote_host:/home/user/</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="启用压缩" tabindex="-1"><a class="header-anchor" href="#启用压缩"><span>启用压缩</span></a></h3><p>对于大文件或网络较慢的情况，可以使用 -C 选项启用压缩，以加快传输速度：</p><div class="language-sh line-numbers-mode" data-ext="sh" data-title="sh"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> scp</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -C</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> large_file.zip</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> user@remote_host:/home/user/</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h2 id="问题" tabindex="-1"><a class="header-anchor" href="#问题"><span>问题</span></a></h2><h3 id="no-such-file-or-directory" tabindex="-1"><a class="header-anchor" href="#no-such-file-or-directory"><span><code>No such file or directory</code></span></a></h3><p>使用下面的命令传输文件夹时失败</p><div class="language-sh line-numbers-mode" data-ext="sh" data-title="sh"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> scp</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -r</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ./dist</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> fofpro:/data/apps/web-modules/copilot/</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">...</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">scp:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> write</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> remote</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">...</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Failure</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">scp:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> stat</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> remote:</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> No</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> such</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> file</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> or</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> directory</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>现象就是，目录下的文件能传输成功，二级目录及下面的文件传输失败，提示如上。</p><p><code>OpenSSH v9.x</code> 起，默认 <code>scp</code> 使用 <code>SFTP</code> 协议</p><p>从 OpenSSH 9.0 开始（大概在 2022 年底发布，各大 Linux 发行版陆续采用），scp 的实现已经更改为 默认使用 SFTP 协议，不再使用传统的 rcp 协议。</p><p>这带来了两个关键影响：</p><ol><li>目录结构行为变了</li></ol><ul><li>以前 scp 使用 rcp 协议，在目标端会自动递归创建嵌套子目录结构。</li><li>现在使用 sftp 协议后，如果某一层目标目录不存在，写入就直接失败。</li></ul><ol start="2"><li>权限校验更严格</li></ol><p>某些文件系统（尤其是远程服务器上挂载了特殊存储设备时），sftp 可能没有写权限或写入失败的兼容性问题，而老的 rcp 协议没那么严格。</p><p>查询<code>OpenSSH</code>的版本：</p><div class="language-sh line-numbers-mode" data-ext="sh" data-title="sh"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ssh</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -V</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">OpenSSH_9.8p1,</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> LibreSSL</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 3.3.6</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>方法一：强制使用旧版协议（如系统支持）</p><p>加上 <code>-O</code> 参数让 scp 使用老协议（rcp）：</p><div class="language-sh line-numbers-mode" data-ext="sh" data-title="sh"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> scp</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -O</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -r</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ./dist</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> fofpro:/data/apps/web-modules/copilot/</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><ul><li>选项 <code>-O</code> 意思是 --legacy，让它用回旧的行为。</li></ul><p>方法二：改用 rsync（更稳妥）</p><div class="language-sh line-numbers-mode" data-ext="sh" data-title="sh"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> rsync</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -avz</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ./dist/</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> fofpro:/data/apps/web-modules/copilot/dist/</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>它会自动创建目标路径，且传输<strong>断点续传</strong>、<strong>增量更新</strong>都支持，比 scp 更适合大项目部署。</p><p>方法三：使用 tar 打包再上传</p><div class="language-sh line-numbers-mode" data-ext="sh" data-title="sh"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">tar</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> czf</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> dist.tar.gz</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ./dist</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">scp</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> dist.tar.gz</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> fofpro:/data/apps/web-modules/copilot/</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 登录远程服务器手动解压或运行远程命令解压</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="参考" tabindex="-1"><a class="header-anchor" href="#参考"><span>参考</span></a></h2>`,30)),i("p",null,[l(a,{to:"/article/wli34ri0.html"},{default:n(()=>s[7]||(s[7]=[e("SSH 免密登录")])),_:1})]),s[11]||(s[11]=i("p",null,[i("a",{href:"https://www.runoob.com/linux/linux-comm-scp.html",target:"_blank",rel:"noopener noreferrer"},"scp 命令")],-1))])}const g=h(k,[["render",o],["__file","ct62svdy.html.vue"]]),m=JSON.parse('{"path":"/linux/ct62svdy.html","title":"scp","lang":"zh-CN","frontmatter":{"title":"scp","createTime":"2025/01/18 16:43:08","permalink":"/linux/ct62svdy.html","watermark":true},"headers":[],"readingTime":{"minutes":5.51,"words":1654},"git":{"updatedTime":1755670488000,"contributors":[{"name":"唐道勇","username":"唐道勇","email":"matias@tangdaoyongdeMacBook-Pro.local","commits":1,"avatar":"https://avatars.githubusercontent.com/唐道勇?v=4","url":"https://github.com/唐道勇"}]},"filePathRelative":"notes/linux/scp.md","bulletin":false}');export{g as comp,m as data};
