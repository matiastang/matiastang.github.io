<!doctype html><html lang="zh-CN"><head><meta charset="utf-8" /><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="generator" content="VuePress 2.0.0-rc.19" /><meta name="theme" content="VuePress Theme Plume " /><script id="check-mac-os">document.documentElement.classList.toggle('mac', /Mac|iPhone|iPod|iPad/i.test(navigator.platform))</script><script id="check-dark-mode">;(function () {const um= localStorage.getItem('vuepress-theme-appearance') || 'auto';const sm = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;const isDark = um === 'dark' || (um !== 'light' && sm);document.documentElement.dataset.theme = isDark ? 'dark' : 'light';})();</script><title>MCP Servers | 云博浩克</title><meta name="description" content="唐道勇的博客"><link rel="preload" href="/assets/style-C6s3meIm.css" as="style"><link rel="stylesheet" href="/assets/style-C6s3meIm.css"><link rel="modulepreload" href="/assets/app-CS9K37Kg.js"><link rel="modulepreload" href="/assets/z29ki5vu.html-BPGjoSG1.js"><link rel="prefetch" href="/assets/index.html-CouWY7vc.js" as="script"><link rel="prefetch" href="/assets/g9wbwsl9.html-C4Jyf0Zc.js" as="script"><link rel="prefetch" href="/assets/st9ekyd6.html-DHF2bD2l.js" as="script"><link rel="prefetch" href="/assets/idu941sm.html-CXmZAHRW.js" as="script"><link rel="prefetch" href="/assets/1x20lpaw.html-ujyvseQH.js" as="script"><link rel="prefetch" href="/assets/9dm2cp3x.html-DVLtZAub.js" as="script"><link rel="prefetch" href="/assets/yo1saav7.html-DY11VxzT.js" as="script"><link rel="prefetch" href="/assets/k4e6efl6.html-CbJks9OY.js" as="script"><link rel="prefetch" href="/assets/jfuqjn63.html-eIJdb8qU.js" as="script"><link rel="prefetch" href="/assets/2352og3i.html-DJ-T-OWh.js" as="script"><link rel="prefetch" href="/assets/6czbow8c.html-BIWCXVH-.js" as="script"><link rel="prefetch" href="/assets/njflxehg.html-DluM2RMu.js" as="script"><link rel="prefetch" href="/assets/38rd8vft.html-qvhaOzGw.js" as="script"><link rel="prefetch" href="/assets/q2aze7j1.html-BtmH_ESC.js" as="script"><link rel="prefetch" href="/assets/36w23jr4.html-2lnrIrT6.js" as="script"><link rel="prefetch" href="/assets/ykrvu023.html-B2QuRPEY.js" as="script"><link rel="prefetch" href="/assets/x6thppdz.html-Kjyix2bh.js" as="script"><link rel="prefetch" href="/assets/wli34ri0.html-Bh5gS5he.js" as="script"><link rel="prefetch" href="/assets/7kwmez4o.html-CGmP2Qp8.js" as="script"><link rel="prefetch" href="/assets/sd0nwsum.html-DJUzFOMS.js" as="script"><link rel="prefetch" href="/assets/ttgmhd56.html-pWHwINgH.js" as="script"><link rel="prefetch" href="/assets/kkpyfg4k.html-D4ZQGITI.js" as="script"><link rel="prefetch" href="/assets/jaq1f910.html-CHR6F4QA.js" as="script"><link rel="prefetch" href="/assets/3m37fsse.html-DmgN3ozG.js" as="script"><link rel="prefetch" href="/assets/3ora6rjk.html-DcQ-mDoK.js" as="script"><link rel="prefetch" href="/assets/n3hu2bbr.html-BZJkQTr0.js" as="script"><link rel="prefetch" href="/assets/rel0rjtf.html-x4CxXgjn.js" as="script"><link rel="prefetch" href="/assets/bfhjuqlm.html-lwnKaMzU.js" as="script"><link rel="prefetch" href="/assets/og5l8mua.html-D3g2yaZZ.js" as="script"><link rel="prefetch" href="/assets/23od4zw6.html-CMaPU818.js" as="script"><link rel="prefetch" href="/assets/ile5yxad.html-DZNvo5nd.js" as="script"><link rel="prefetch" href="/assets/ne7ibtaz.html-Dcu3Dk5o.js" as="script"><link rel="prefetch" href="/assets/7n24m6xz.html-qe86mCFc.js" as="script"><link rel="prefetch" href="/assets/iggronha.html-BbhEVgYn.js" as="script"><link rel="prefetch" href="/assets/f2vd8ehf.html-bfOHEUoZ.js" as="script"><link rel="prefetch" href="/assets/ccizt5y5.html-Ctf1WfVK.js" as="script"><link rel="prefetch" href="/assets/r891tk9b.html-SfkUE7gX.js" as="script"><link rel="prefetch" href="/assets/sp2l4mea.html-CCdNbgtc.js" as="script"><link rel="prefetch" href="/assets/44s4vt21.html-BulCVu8O.js" as="script"><link rel="prefetch" href="/assets/yukb34ys.html-Bm8QxZ0d.js" as="script"><link rel="prefetch" href="/assets/94w8v0n3.html-DFTRIguV.js" as="script"><link rel="prefetch" href="/assets/y8faf61c.html-BvEBR4Xk.js" as="script"><link rel="prefetch" href="/assets/u1og7vsz.html-Buhpp7FF.js" as="script"><link rel="prefetch" href="/assets/r07omi36.html-DLxWB8jx.js" as="script"><link rel="prefetch" href="/assets/col726d2.html-DzqGasb-.js" as="script"><link rel="prefetch" href="/assets/ew35vf0p.html-Dh8WUOYJ.js" as="script"><link rel="prefetch" href="/assets/kffe1qnx.html-DL0skTfM.js" as="script"><link rel="prefetch" href="/assets/y15xgdf9.html-C2pep_JU.js" as="script"><link rel="prefetch" href="/assets/m6g643gp.html-CrG7sCK-.js" as="script"><link rel="prefetch" href="/assets/m5ycwqu6.html-D_XxBJ4u.js" as="script"><link rel="prefetch" href="/assets/q55cjwvr.html-DPTpoD8F.js" as="script"><link rel="prefetch" href="/assets/g11xwowq.html-CeHa8pHo.js" as="script"><link rel="prefetch" href="/assets/qrq6l59i.html-x602sOLp.js" as="script"><link rel="prefetch" href="/assets/i6gxfl48.html-BiN_C7if.js" as="script"><link rel="prefetch" href="/assets/r9hxea84.html-DgeOIrBW.js" as="script"><link rel="prefetch" href="/assets/leuppj9w.html-LM8NDdh9.js" as="script"><link rel="prefetch" href="/assets/83fzeixb.html-DczpSzYs.js" as="script"><link rel="prefetch" href="/assets/x1bleolv.html-C_n_kuQs.js" as="script"><link rel="prefetch" href="/assets/m1fqacfk.html-hB7DguLJ.js" as="script"><link rel="prefetch" href="/assets/al0ujnld.html-BTmhmS0g.js" as="script"><link rel="prefetch" href="/assets/6ob1aa4z.html-DVo-638v.js" as="script"><link rel="prefetch" href="/assets/x9ugwl1u.html-BWcLD9ol.js" as="script"><link rel="prefetch" href="/assets/nbdzpsa4.html-CPACSRbe.js" as="script"><link rel="prefetch" href="/assets/h609uylx.html-scB5XLt9.js" as="script"><link rel="prefetch" href="/assets/l6hyzazc.html-DCicG0YD.js" as="script"><link rel="prefetch" href="/assets/y7liklme.html-BMfGfCvQ.js" as="script"><link rel="prefetch" href="/assets/n5e1yqix.html-CG4yRzgy.js" as="script"><link rel="prefetch" href="/assets/087mvliz.html-DcegYIlA.js" as="script"><link rel="prefetch" href="/assets/d7io2a50.html-OezzV3e2.js" as="script"><link rel="prefetch" href="/assets/6ebdgoez.html-DXglAg2d.js" as="script"><link rel="prefetch" href="/assets/39te9d5d.html-DXFbdEso.js" as="script"><link rel="prefetch" href="/assets/3xrbky48.html-CtQYSsSE.js" as="script"><link rel="prefetch" href="/assets/l9iu09mv.html-DyZrVLRO.js" as="script"><link rel="prefetch" href="/assets/f4hfuejh.html-Bw7nBpDn.js" as="script"><link rel="prefetch" href="/assets/kdcq4m6r.html-B0IigcHy.js" as="script"><link rel="prefetch" href="/assets/hzatjp8f.html-BjiacU1Q.js" as="script"><link rel="prefetch" href="/assets/v90cl0l4.html-qu7MBJZ1.js" as="script"><link rel="prefetch" href="/assets/skckf0gt.html-BaZpld_0.js" as="script"><link rel="prefetch" href="/assets/6sc5pcfz.html-BecgBvU_.js" as="script"><link rel="prefetch" href="/assets/8javai3k.html-B98aE2Um.js" as="script"><link rel="prefetch" href="/assets/c2cs8tlj.html-uYhcNWI0.js" as="script"><link rel="prefetch" href="/assets/b4k1v60x.html-skisiMFD.js" as="script"><link rel="prefetch" href="/assets/c88qu9j6.html-Bv9Q2dh3.js" as="script"><link rel="prefetch" href="/assets/ijb1mjl4.html-DBCV5mpx.js" as="script"><link rel="prefetch" href="/assets/ifj6jsg1.html-DMK0J29c.js" as="script"><link rel="prefetch" href="/assets/mta8d3te.html-DzQwOtkt.js" as="script"><link rel="prefetch" href="/assets/5n4dhycc.html-Dyr7DEWm.js" as="script"><link rel="prefetch" href="/assets/fuw8h70m.html-BxRkFi5H.js" as="script"><link rel="prefetch" href="/assets/na48bazk.html-d2goLzcK.js" as="script"><link rel="prefetch" href="/assets/index.html-UR8Wru_3.js" as="script"><link rel="prefetch" href="/assets/zqebnu63.html-C1mzRDhj.js" as="script"><link rel="prefetch" href="/assets/s3qm0nbz.html-Ck9PC3CY.js" as="script"><link rel="prefetch" href="/assets/tuyr413i.html-DFm03c7o.js" as="script"><link rel="prefetch" href="/assets/gjvr0hvu.html-uqlK83qA.js" as="script"><link rel="prefetch" href="/assets/y6holfbs.html-CqAq19Rj.js" as="script"><link rel="prefetch" href="/assets/uo6h2na8.html-AYIK1pzF.js" as="script"><link rel="prefetch" href="/assets/5ee19p17.html-BSEUi5LT.js" as="script"><link rel="prefetch" href="/assets/7qp9j0u0.html-BJs9DY6P.js" as="script"><link rel="prefetch" href="/assets/w81sf1e3.html-Bkvn_XWM.js" as="script"><link rel="prefetch" href="/assets/0qtie3nw.html-DT2MjJfv.js" as="script"><link rel="prefetch" href="/assets/n61srtbe.html-Dwig2Q04.js" as="script"><link rel="prefetch" href="/assets/b4to83xo.html-BY0eH6aA.js" as="script"><link rel="prefetch" href="/assets/px66501u.html-CVic1j_g.js" as="script"><link rel="prefetch" href="/assets/be2c1wo0.html-BLUeR-wC.js" as="script"><link rel="prefetch" href="/assets/wf8douex.html-C0clM8-b.js" as="script"><link rel="prefetch" href="/assets/q46dkqvu.html-B-ZdTKsI.js" as="script"><link rel="prefetch" href="/assets/bzi3or8u.html-Cc-llu44.js" as="script"><link rel="prefetch" href="/assets/pqbug8y2.html-CWv1LOyJ.js" as="script"><link rel="prefetch" href="/assets/8ld4gfq6.html-zgpfFkpk.js" as="script"><link rel="prefetch" href="/assets/bdicy2sb.html-7pQPRk5F.js" as="script"><link rel="prefetch" href="/assets/w3vbr1fl.html-BpMj4RJ0.js" as="script"><link rel="prefetch" href="/assets/18xe0n5u.html-BUfh-HAb.js" as="script"><link rel="prefetch" href="/assets/nc0nrv3s.html-DJhF_GZM.js" as="script"><link rel="prefetch" href="/assets/index.html-BdLIA7pX.js" as="script"><link rel="prefetch" href="/assets/7kmg1kz4.html-BJ-jHIMU.js" as="script"><link rel="prefetch" href="/assets/hx4xnrao.html-DuIdp_vY.js" as="script"><link rel="prefetch" href="/assets/kpofi0cs.html-CCn62GxO.js" as="script"><link rel="prefetch" href="/assets/4bgp5rut.html-CgVoQwxU.js" as="script"><link rel="prefetch" href="/assets/nlb2zu2l.html-DCR1Z7aW.js" as="script"><link rel="prefetch" href="/assets/gtrr9s4a.html-8Zwrv5dR.js" as="script"><link rel="prefetch" href="/assets/8d4y3h04.html-BrJZReFk.js" as="script"><link rel="prefetch" href="/assets/z6firep7.html-llcOJEHm.js" as="script"><link rel="prefetch" href="/assets/jogsfmeg.html-D4WMjZ5i.js" as="script"><link rel="prefetch" href="/assets/6fz9cf9f.html-nmfgHMJJ.js" as="script"><link rel="prefetch" href="/assets/qnifq7eo.html-BOwcxudv.js" as="script"><link rel="prefetch" href="/assets/ddlgvk6z.html-BElR9Nbt.js" as="script"><link rel="prefetch" href="/assets/d11vwjzc.html-DY-gTYgC.js" as="script"><link rel="prefetch" href="/assets/r05llg2i.html-GTUilmHL.js" as="script"><link rel="prefetch" href="/assets/swxi8iwr.html-CS_vl8gc.js" as="script"><link rel="prefetch" href="/assets/9y6e3534.html-RDxkVtTW.js" as="script"><link rel="prefetch" href="/assets/2u43axj1.html-DNZtMZRV.js" as="script"><link rel="prefetch" href="/assets/jvctlzjy.html-B653dhte.js" as="script"><link rel="prefetch" href="/assets/83v1z66n.html-CR6Rl2Cr.js" as="script"><link rel="prefetch" href="/assets/jpww5bqc.html-Dhfflfim.js" as="script"><link rel="prefetch" href="/assets/8e1lh0m4.html-BPnMGcU1.js" as="script"><link rel="prefetch" href="/assets/41v5xrbn.html-Dl-28nyS.js" as="script"><link rel="prefetch" href="/assets/6fiko5vi.html-DvBd9yr6.js" as="script"><link rel="prefetch" href="/assets/6atezhdj.html-DDkPDCaD.js" as="script"><link rel="prefetch" href="/assets/evm08p5v.html-CvQPKiNP.js" as="script"><link rel="prefetch" href="/assets/83del1up.html-CNN64Zvd.js" as="script"><link rel="prefetch" href="/assets/cxbuld1c.html-BJo_fHlK.js" as="script"><link rel="prefetch" href="/assets/9ok8ahrb.html-YGujMJ3q.js" as="script"><link rel="prefetch" href="/assets/hlg2dqck.html-DY0zL_tW.js" as="script"><link rel="prefetch" href="/assets/onja02wo.html-CH5yli2h.js" as="script"><link rel="prefetch" href="/assets/index.html-CE7pcaw_.js" as="script"><link rel="prefetch" href="/assets/bmlalkyl.html-Be1g6-uI.js" as="script"><link rel="prefetch" href="/assets/pc9jlhkk.html-xaClXFIz.js" as="script"><link rel="prefetch" href="/assets/oaj7pgt5.html-Ukis5H_5.js" as="script"><link rel="prefetch" href="/assets/index.html-Lg5Tyzel.js" as="script"><link rel="prefetch" href="/assets/sxvd5g5n.html-CyzYtB4h.js" as="script"><link rel="prefetch" href="/assets/0tgsgykn.html-BuTc6wGR.js" as="script"><link rel="prefetch" href="/assets/index.html-DXVgd-ns.js" as="script"><link rel="prefetch" href="/assets/index.html-YDgyj03S.js" as="script"><link rel="prefetch" href="/assets/nk5hfpys.html-CZMAiZh9.js" as="script"><link rel="prefetch" href="/assets/axd7ki66.html-DFBA3O6z.js" as="script"><link rel="prefetch" href="/assets/g8x8lzms.html-DtXQQopQ.js" as="script"><link rel="prefetch" href="/assets/index.html-B2VGV4Jh.js" as="script"><link rel="prefetch" href="/assets/ksptwoiq.html-DJU0KDr_.js" as="script"><link rel="prefetch" href="/assets/index.html-bmZ7uIF6.js" as="script"><link rel="prefetch" href="/assets/index.html-Dh-h2C2r.js" as="script"><link rel="prefetch" href="/assets/e4k0g573.html-CKDqxRwU.js" as="script"><link rel="prefetch" href="/assets/27ihntam.html-AJ7X9xhq.js" as="script"><link rel="prefetch" href="/assets/t9b1dv9a.html-VGphc8C2.js" as="script"><link rel="prefetch" href="/assets/iwt6r36u.html-DiNSEoii.js" as="script"><link rel="prefetch" href="/assets/6yr5jsad.html-mBbaKgwy.js" as="script"><link rel="prefetch" href="/assets/ba60wg24.html-CmCNwPF7.js" as="script"><link rel="prefetch" href="/assets/sj4lt68r.html-BksuBFrr.js" as="script"><link rel="prefetch" href="/assets/b2nplpqw.html-dHZ5mtxi.js" as="script"><link rel="prefetch" href="/assets/7oj1j32r.html-BfYIj0iU.js" as="script"><link rel="prefetch" href="/assets/9f26um3n.html-tTkLRl5A.js" as="script"><link rel="prefetch" href="/assets/ptv873ne.html-BUqy2v0e.js" as="script"><link rel="prefetch" href="/assets/fiyogcy3.html-BTE3MQON.js" as="script"><link rel="prefetch" href="/assets/4cb58gaj.html-nIlqvNto.js" as="script"><link rel="prefetch" href="/assets/14xkdfyz.html-C8-BCYBe.js" as="script"><link rel="prefetch" href="/assets/787uwiht.html-B-pP1zEJ.js" as="script"><link rel="prefetch" href="/assets/nf3r6cu7.html-DXlEB-eF.js" as="script"><link rel="prefetch" href="/assets/f9zdagrn.html-D-oYK73i.js" as="script"><link rel="prefetch" href="/assets/g0cs22n9.html-Bx-BOK76.js" as="script"><link rel="prefetch" href="/assets/4szmtdzn.html-CF4HtyUK.js" as="script"><link rel="prefetch" href="/assets/index.html-CFqGqJpY.js" as="script"><link rel="prefetch" href="/assets/index.html--5RRgxzF.js" as="script"><link rel="prefetch" href="/assets/index.html-DLVatQH7.js" as="script"><link rel="prefetch" href="/assets/index.html-DdkCGDq1.js" as="script"><link rel="prefetch" href="/assets/index.html-C08K6E61.js" as="script"><link rel="prefetch" href="/assets/index.html-DF1M6Tx8.js" as="script"><link rel="prefetch" href="/assets/ugkoigwk.html-DJRw6wQv.js" as="script"><link rel="prefetch" href="/assets/z11qf6if.html-BrTg70JD.js" as="script"><link rel="prefetch" href="/assets/index.html-BCqjyuNN.js" as="script"><link rel="prefetch" href="/assets/index.html-Da-IG8Ia.js" as="script"><link rel="prefetch" href="/assets/index.html-HwFVwvJb.js" as="script"><link rel="prefetch" href="/assets/zxd5tb3v.html-DKqwdn8W.js" as="script"><link rel="prefetch" href="/assets/bkas46hp.html-Dxcf0X5p.js" as="script"><link rel="prefetch" href="/assets/cb871rb2.html-CRTzclCE.js" as="script"><link rel="prefetch" href="/assets/ow1abnvc.html-CL9QCOlx.js" as="script"><link rel="prefetch" href="/assets/bem9sb7g.html-TOP_aj6I.js" as="script"><link rel="prefetch" href="/assets/1o6gija3.html-G-TuiB_6.js" as="script"><link rel="prefetch" href="/assets/5r2us2b0.html-BzbLi4Db.js" as="script"><link rel="prefetch" href="/assets/knuj61g1.html-BY1C7GAh.js" as="script"><link rel="prefetch" href="/assets/cchswpi3.html-BsHH3xd5.js" as="script"><link rel="prefetch" href="/assets/8qt1zdx2.html-DT9y50_h.js" as="script"><link rel="prefetch" href="/assets/49j4g9tk.html-D388N9SH.js" as="script"><link rel="prefetch" href="/assets/kcs76m2w.html-Da194Blg.js" as="script"><link rel="prefetch" href="/assets/pyeqlnmg.html-Xx1gI1i8.js" as="script"><link rel="prefetch" href="/assets/x3bynzgm.html-Cw6BKhLe.js" as="script"><link rel="prefetch" href="/assets/72i3a12s.html-CrOhIWOB.js" as="script"><link rel="prefetch" href="/assets/rd7loyvx.html-DrQ-MbIe.js" as="script"><link rel="prefetch" href="/assets/a9uzsnve.html-CqA0GYVR.js" as="script"><link rel="prefetch" href="/assets/index.html-DPq0rxBV.js" as="script"><link rel="prefetch" href="/assets/28dhp315.html-BzU8Ro-Q.js" as="script"><link rel="prefetch" href="/assets/vmayhukq.html--RfBqU3j.js" as="script"><link rel="prefetch" href="/assets/s82jeq9s.html-DguVmsNB.js" as="script"><link rel="prefetch" href="/assets/index.html-CDxI0MFt.js" as="script"><link rel="prefetch" href="/assets/index.html-BK1dPQ4d.js" as="script"><link rel="prefetch" href="/assets/8atcpyvh.html-DnFBU_Wo.js" as="script"><link rel="prefetch" href="/assets/rmhejfiz.html-DldcIUdn.js" as="script"><link rel="prefetch" href="/assets/vvd1tt0w.html-CNG8zA2l.js" as="script"><link rel="prefetch" href="/assets/index.html-CXPmzZ9c.js" as="script"><link rel="prefetch" href="/assets/index.html-uV9u5wdZ.js" as="script"><link rel="prefetch" href="/assets/index.html-MLGXclpk.js" as="script"><link rel="prefetch" href="/assets/index.html-CX4cckGZ.js" as="script"><link rel="prefetch" href="/assets/index.html-CUg-OfQL.js" as="script"><link rel="prefetch" href="/assets/index.html-qPdb7uKI.js" as="script"><link rel="prefetch" href="/assets/index.html-p6saqTM_.js" as="script"><link rel="prefetch" href="/assets/index.html-CUTpRn68.js" as="script"><link rel="prefetch" href="/assets/index.html-BvWXZYYH.js" as="script"><link rel="prefetch" href="/assets/index.html-1ZFzdnkg.js" as="script"><link rel="prefetch" href="/assets/index.html-1Rh7a-wM.js" as="script"><link rel="prefetch" href="/assets/index.html-CDRgUqff.js" as="script"><link rel="prefetch" href="/assets/index.html-BnnJALJS.js" as="script"><link rel="prefetch" href="/assets/index.html-MiooSrE3.js" as="script"><link rel="prefetch" href="/assets/index.html-B_ga64rs.js" as="script"><link rel="prefetch" href="/assets/xnioegnz.html-9UNRWdyY.js" as="script"><link rel="prefetch" href="/assets/so1hzqj4.html-BQ7xEb-D.js" as="script"><link rel="prefetch" href="/assets/p9eocl26.html-u8H92dxO.js" as="script"><link rel="prefetch" href="/assets/4gjsc8g1.html--4xwW35w.js" as="script"><link rel="prefetch" href="/assets/otzhb1wi.html-b4tY4YuL.js" as="script"><link rel="prefetch" href="/assets/k2p4w5vl.html-CHhUJfiO.js" as="script"><link rel="prefetch" href="/assets/y527w5h8.html-0SjKyKV4.js" as="script"><link rel="prefetch" href="/assets/288rroct.html-Bymg1Zig.js" as="script"><link rel="prefetch" href="/assets/ct62svdy.html-2XdRv6wh.js" as="script"><link rel="prefetch" href="/assets/tie80499.html-Br28dMr3.js" as="script"><link rel="prefetch" href="/assets/9lp2seml.html-BItOrnlh.js" as="script"><link rel="prefetch" href="/assets/8u96z9c4.html-DXsrEcYZ.js" as="script"><link rel="prefetch" href="/assets/frx4rgfm.html-D6mQBu-N.js" as="script"><link rel="prefetch" href="/assets/index.html-C0IpEvIp.js" as="script"><link rel="prefetch" href="/assets/fcm7vis5.html-Dl-7fGPw.js" as="script"><link rel="prefetch" href="/assets/index.html-BHr67_sA.js" as="script"><link rel="prefetch" href="/assets/l7usx5ar.html-DZgkcxtC.js" as="script"><link rel="prefetch" href="/assets/cyagprt4.html-D3QTeTst.js" as="script"><link rel="prefetch" href="/assets/oq7cmptd.html-CZrOPrIt.js" as="script"><link rel="prefetch" href="/assets/5obr2b5n.html-nn-KsgRa.js" as="script"><link rel="prefetch" href="/assets/yp1zhb8l.html-aAy-dOKt.js" as="script"><link rel="prefetch" href="/assets/mjz6wpbk.html-C3SYJAzG.js" as="script"><link rel="prefetch" href="/assets/index.html-aLKfjujG.js" as="script"><link rel="prefetch" href="/assets/eizc7vtf.html-CtZazEQ_.js" as="script"><link rel="prefetch" href="/assets/eyuxuocq.html-CZzD3j5f.js" as="script"><link rel="prefetch" href="/assets/0sqpdqhs.html-dJ7j2IDO.js" as="script"><link rel="prefetch" href="/assets/fk9nko57.html-HP5gCQWv.js" as="script"><link rel="prefetch" href="/assets/laapcq9c.html-Cu0slDLa.js" as="script"><link rel="prefetch" href="/assets/o883rut3.html-5wsENaMt.js" as="script"><link rel="prefetch" href="/assets/epctyr8y.html-BUoJAwqz.js" as="script"><link rel="prefetch" href="/assets/l28wn734.html-BNu9xVW3.js" as="script"><link rel="prefetch" href="/assets/3d8rr9m6.html-DkBmlO9p.js" as="script"><link rel="prefetch" href="/assets/c65iaxsz.html-Bd0zA26S.js" as="script"><link rel="prefetch" href="/assets/lb1z5nvo.html-DfxHLkqJ.js" as="script"><link rel="prefetch" href="/assets/eg9wm2zf.html-CVTOw1t5.js" as="script"><link rel="prefetch" href="/assets/nhz2cb83.html-JF3yChM9.js" as="script"><link rel="prefetch" href="/assets/sfssu6j2.html-C1edO5rz.js" as="script"><link rel="prefetch" href="/assets/4mx1tyvg.html-BkvgSTUM.js" as="script"><link rel="prefetch" href="/assets/u8nq4l6c.html-BLLrE1kk.js" as="script"><link rel="prefetch" href="/assets/1ffnc5sd.html-CJCzKNhW.js" as="script"><link rel="prefetch" href="/assets/ssbq6y2w.html-D4K5qh3z.js" as="script"><link rel="prefetch" href="/assets/6yit6dsc.html-CIENb3S8.js" as="script"><link rel="prefetch" href="/assets/q0cpa873.html-DuY0DjvC.js" as="script"><link rel="prefetch" href="/assets/c0ky1akn.html-BVAXQZHe.js" as="script"><link rel="prefetch" href="/assets/8ygpicdc.html-DVmKy-wE.js" as="script"><link rel="prefetch" href="/assets/abdxbjwh.html-Be0TT27h.js" as="script"><link rel="prefetch" href="/assets/5lzkiiyb.html-fu08Tmac.js" as="script"><link rel="prefetch" href="/assets/enqlrrdd.html-CVvKAdUO.js" as="script"><link rel="prefetch" href="/assets/y77fpy78.html-BgTQJJQl.js" as="script"><link rel="prefetch" href="/assets/wr6kpgob.html-sg32YTaQ.js" as="script"><link rel="prefetch" href="/assets/j0rw2big.html-Dp-iUeEZ.js" as="script"><link rel="prefetch" href="/assets/mclmlzl5.html-69Q2Mjcw.js" as="script"><link rel="prefetch" href="/assets/sbqcazs6.html-VA1KyCPZ.js" as="script"><link rel="prefetch" href="/assets/xklduubg.html-CSXtR8KU.js" as="script"><link rel="prefetch" href="/assets/u7ba4k3g.html-Petmswg6.js" as="script"><link rel="prefetch" href="/assets/897ao9zd.html-DvFXUs-p.js" as="script"><link rel="prefetch" href="/assets/5lditahg.html-CYY86v7W.js" as="script"><link rel="prefetch" href="/assets/lpsqcvgq.html-CMZegdTX.js" as="script"><link rel="prefetch" href="/assets/9la5x6nl.html-BDmQcPjv.js" as="script"><link rel="prefetch" href="/assets/ekmihtre.html-BZIR5eFk.js" as="script"><link rel="prefetch" href="/assets/e59o9xjw.html-JIQPfzVD.js" as="script"><link rel="prefetch" href="/assets/lg5jli2r.html-NIxlPozW.js" as="script"><link rel="prefetch" href="/assets/tbvtxc2q.html-DH8o3R7g.js" as="script"><link rel="prefetch" href="/assets/9lsa69sg.html-CPTkDXT8.js" as="script"><link rel="prefetch" href="/assets/8d9rf2q0.html-DCpI0O0I.js" as="script"><link rel="prefetch" href="/assets/uyuv1lnn.html-gIZK8W3K.js" as="script"><link rel="prefetch" href="/assets/jb5j12j6.html-ZDa7Q1HN.js" as="script"><link rel="prefetch" href="/assets/xx6fr7cv.html-DL6n9aNH.js" as="script"><link rel="prefetch" href="/assets/j33qw9ja.html-DC56bC9k.js" as="script"><link rel="prefetch" href="/assets/wlw4fwtf.html-D2vu1-r7.js" as="script"><link rel="prefetch" href="/assets/z4f31r2y.html-ltdoX9bG.js" as="script"><link rel="prefetch" href="/assets/ehc654k4.html-UEowrBJ5.js" as="script"><link rel="prefetch" href="/assets/yge39fzi.html-CxMcRPsS.js" as="script"><link rel="prefetch" href="/assets/46he6der.html-Bnt1p_k3.js" as="script"><link rel="prefetch" href="/assets/hg6wquwg.html-CFeeQEWA.js" as="script"><link rel="prefetch" href="/assets/nacige28.html-DkYJkFWK.js" as="script"><link rel="prefetch" href="/assets/zdro18o8.html-DeD6i-zc.js" as="script"><link rel="prefetch" href="/assets/o0lyq03w.html-CFWv-3wU.js" as="script"><link rel="prefetch" href="/assets/zgyq48js.html-6OUURza1.js" as="script"><link rel="prefetch" href="/assets/8cxw0qxc.html-IOGEa5il.js" as="script"><link rel="prefetch" href="/assets/dw5n1faa.html-BvfhNgTW.js" as="script"><link rel="prefetch" href="/assets/7tevr4mq.html-pKBJqVfB.js" as="script"><link rel="prefetch" href="/assets/qk6z5hs7.html-B_WlDzCL.js" as="script"><link rel="prefetch" href="/assets/66ot1fdg.html-BRg0H6Yh.js" as="script"><link rel="prefetch" href="/assets/0y9o48xv.html-C70rLVOi.js" as="script"><link rel="prefetch" href="/assets/2ouxe9z1.html-BfPhWGc0.js" as="script"><link rel="prefetch" href="/assets/y91q7zkd.html-C5d5gdIA.js" as="script"><link rel="prefetch" href="/assets/pv9p34ep.html-Bnhr7CX9.js" as="script"><link rel="prefetch" href="/assets/d2zcbxeu.html-CBT-fPUy.js" as="script"><link rel="prefetch" href="/assets/ro9ktza3.html-CmDL-VSA.js" as="script"><link rel="prefetch" href="/assets/qusnc24y.html-BGKuRl83.js" as="script"><link rel="prefetch" href="/assets/index.html-Df9YaWtD.js" as="script"><link rel="prefetch" href="/assets/ov3l977z.html-Dm3iBQ6v.js" as="script"><link rel="prefetch" href="/assets/sn63swbq.html-Bur7z1WF.js" as="script"><link rel="prefetch" href="/assets/z82heuzv.html-CHOVheGx.js" as="script"><link rel="prefetch" href="/assets/a57emhi6.html-BxkUNeCm.js" as="script"><link rel="prefetch" href="/assets/index.html-cwBbBQiO.js" as="script"><link rel="prefetch" href="/assets/index.html-BDQsCbaa.js" as="script"><link rel="prefetch" href="/assets/index.html-D4F_9eEJ.js" as="script"><link rel="prefetch" href="/assets/index.html-CKc0nImD.js" as="script"><link rel="prefetch" href="/assets/index.html-g-817pPg.js" as="script"><link rel="prefetch" href="/assets/index.html-DOokeQcb.js" as="script"><link rel="prefetch" href="/assets/index.html-C_rgFRKe.js" as="script"><link rel="prefetch" href="/assets/index.html-Dqgrw2sv.js" as="script"><link rel="prefetch" href="/assets/index.html-C5ZAijQS.js" as="script"><link rel="prefetch" href="/assets/index.html-BZ0Q48ou.js" as="script"><link rel="prefetch" href="/assets/index.html-myag7dpi.js" as="script"><link rel="prefetch" href="/assets/index.html-DyV5M3Yd.js" as="script"><link rel="prefetch" href="/assets/9eiptoc2.html-ApN8uyrz.js" as="script"><link rel="prefetch" href="/assets/index.html-CYHBGO2Z.js" as="script"><link rel="prefetch" href="/assets/index.html-D3tr3Tp9.js" as="script"><link rel="prefetch" href="/assets/index.html-DeZuENa4.js" as="script"><link rel="prefetch" href="/assets/index.html-BmGOLNvp.js" as="script"><link rel="prefetch" href="/assets/index.html-DRt69gRe.js" as="script"><link rel="prefetch" href="/assets/index.html-nDDEqJjb.js" as="script"><link rel="prefetch" href="/assets/index.html-CdWN22BG.js" as="script"><link rel="prefetch" href="/assets/eyznnpfs.html-CYEkHdZB.js" as="script"><link rel="prefetch" href="/assets/index.html-BQa31_VY.js" as="script"><link rel="prefetch" href="/assets/index.html-D4AMIxdR.js" as="script"><link rel="prefetch" href="/assets/index.html-daX734Vi.js" as="script"><link rel="prefetch" href="/assets/index.html-8Oyh6yvT.js" as="script"><link rel="prefetch" href="/assets/bjuvor5z.html-D0lokbCF.js" as="script"><link rel="prefetch" href="/assets/index.html-BW6YXbnU.js" as="script"><link rel="prefetch" href="/assets/index.html-CQwzo5AS.js" as="script"><link rel="prefetch" href="/assets/gwcorw84.html-VreXgAr5.js" as="script"><link rel="prefetch" href="/assets/8377zcwd.html-CP7-jim0.js" as="script"><link rel="prefetch" href="/assets/index.html-SLc8PrWp.js" as="script"><link rel="prefetch" href="/assets/m2c9sj3x.html-DNQkBAVO.js" as="script"><link rel="prefetch" href="/assets/hdv79rd0.html-X38-sIul.js" as="script"><link rel="prefetch" href="/assets/index.html-LAtYUNhQ.js" as="script"><link rel="prefetch" href="/assets/r212we3a.html-CDwO_8eM.js" as="script"><link rel="prefetch" href="/assets/d5e8fyec.html-Be0SV_uK.js" as="script"><link rel="prefetch" href="/assets/6tzak363.html-DkCkKIlm.js" as="script"><link rel="prefetch" href="/assets/3hdqjr3w.html-BMh9Ymyo.js" as="script"><link rel="prefetch" href="/assets/jti0mkir.html-Rr0qGeZs.js" as="script"><link rel="prefetch" href="/assets/index.html-Dyi3CS3E.js" as="script"><link rel="prefetch" href="/assets/index.html-CdDIRotR.js" as="script"><link rel="prefetch" href="/assets/index.html-DBYEtCGD.js" as="script"><link rel="prefetch" href="/assets/index.html-BHFyOKDi.js" as="script"><link rel="prefetch" href="/assets/index.html-34p9cR3D.js" as="script"><link rel="prefetch" href="/assets/index.html-CC8_lrNH.js" as="script"><link rel="prefetch" href="/assets/index.html-CdnbtzDD.js" as="script"><link rel="prefetch" href="/assets/e6d0nyya.html-CLb4tRnp.js" as="script"><link rel="prefetch" href="/assets/index.html-DS7gidNv.js" as="script"><link rel="prefetch" href="/assets/7pqype2n.html-CSVvb_8l.js" as="script"><link rel="prefetch" href="/assets/index.html-Bo3OaV1-.js" as="script"><link rel="prefetch" href="/assets/index.html-TenXqcE5.js" as="script"><link rel="prefetch" href="/assets/index.html-Bc1B-V0J.js" as="script"><link rel="prefetch" href="/assets/index.html-C1_Ehnj4.js" as="script"><link rel="prefetch" href="/assets/x17tvheq.html-B8Yx_yIt.js" as="script"><link rel="prefetch" href="/assets/24j0gary.html-B04ZI7hY.js" as="script"><link rel="prefetch" href="/assets/dgne8zzs.html-D7f0WWrv.js" as="script"><link rel="prefetch" href="/assets/bb3hwi2a.html-DtkU9jX3.js" as="script"><link rel="prefetch" href="/assets/hlqi57bv.html-BxDI9O0X.js" as="script"><link rel="prefetch" href="/assets/bijmwo7r.html-DIg5zrUM.js" as="script"><link rel="prefetch" href="/assets/t7zts7s3.html-DeuzosvT.js" as="script"><link rel="prefetch" href="/assets/qg3mfmfp.html-eGq7ViXI.js" as="script"><link rel="prefetch" href="/assets/8pakc63o.html-BLTvG_UQ.js" as="script"><link rel="prefetch" href="/assets/whwuried.html-ZyvIImVf.js" as="script"><link rel="prefetch" href="/assets/index.html-CN_r-3Jl.js" as="script"><link rel="prefetch" href="/assets/9lwzh2cy.html-8USVgXR0.js" as="script"><link rel="prefetch" href="/assets/6l2nox7o.html-B0pRpK_U.js" as="script"><link rel="prefetch" href="/assets/vjqwz7rn.html-4x7x0rfh.js" as="script"><link rel="prefetch" href="/assets/g7g68lw2.html-DMonxDk_.js" as="script"><link rel="prefetch" href="/assets/ohrrx67w.html--MIO2klY.js" as="script"><link rel="prefetch" href="/assets/a6mx35b5.html-BMrwrFiQ.js" as="script"><link rel="prefetch" href="/assets/vy5sn7ut.html-CdzazWmj.js" as="script"><link rel="prefetch" href="/assets/0qrw2odd.html-cCyg2fPc.js" as="script"><link rel="prefetch" href="/assets/fjm8q4lr.html-BgIMyy98.js" as="script"><link rel="prefetch" href="/assets/tzuwgdd4.html-BJgPNKbg.js" as="script"><link rel="prefetch" href="/assets/6fpr2q0w.html-tOBT_FSP.js" as="script"><link rel="prefetch" href="/assets/czw3c1uy.html-CYOzcYeL.js" as="script"><link rel="prefetch" href="/assets/36s2dxin.html-K5YhBFg3.js" as="script"><link rel="prefetch" href="/assets/vgjem0cq.html-BZdhyVT8.js" as="script"><link rel="prefetch" href="/assets/1ogrqhu5.html-BtVz7l2s.js" as="script"><link rel="prefetch" href="/assets/ceixfzgd.html-MiI4t-oP.js" as="script"><link rel="prefetch" href="/assets/02ujspqc.html-Dybs5ZGk.js" as="script"><link rel="prefetch" href="/assets/dfbyx6ji.html-6ckmriC5.js" as="script"><link rel="prefetch" href="/assets/s6xx8qlw.html-BSyzW1hI.js" as="script"><link rel="prefetch" href="/assets/tql1e3tc.html-oOOkKWX5.js" as="script"><link rel="prefetch" href="/assets/qgp2xv2m.html-dq1Kqzri.js" as="script"><link rel="prefetch" href="/assets/nxeow07j.html-C0uo95Q7.js" as="script"><link rel="prefetch" href="/assets/35pxgfv4.html-BTjKqh18.js" as="script"><link rel="prefetch" href="/assets/gxei6hxj.html-BsJXdYSy.js" as="script"><link rel="prefetch" href="/assets/e326zfez.html-B-xcxwIa.js" as="script"><link rel="prefetch" href="/assets/6zabk89z.html-BV9w5ivs.js" as="script"><link rel="prefetch" href="/assets/3om1dcsi.html-Dmj-RoC7.js" as="script"><link rel="prefetch" href="/assets/eqkno1c9.html-BJJNW8v8.js" as="script"><link rel="prefetch" href="/assets/30m949d0.html-CnWjo0ar.js" as="script"><link rel="prefetch" href="/assets/o4fclgdt.html-CDwM13fp.js" as="script"><link rel="prefetch" href="/assets/fxnoumgh.html-DxBrCheu.js" as="script"><link rel="prefetch" href="/assets/bb478sw1.html-B5hagBkp.js" as="script"><link rel="prefetch" href="/assets/vx6mh0ku.html-CKpGaQwB.js" as="script"><link rel="prefetch" href="/assets/ns0jt87a.html-D8uRRByy.js" as="script"><link rel="prefetch" href="/assets/index.html-BXNsOL5L.js" as="script"><link rel="prefetch" href="/assets/index.html-hxuMedHK.js" as="script"><link rel="prefetch" href="/assets/index.html-BKfvFX97.js" as="script"><link rel="prefetch" href="/assets/7xo7ocli.html-DWCtPezt.js" as="script"><link rel="prefetch" href="/assets/index.html-BJd9tJM7.js" as="script"><link rel="prefetch" href="/assets/index.html-DPtJ-a8R.js" as="script"><link rel="prefetch" href="/assets/index.html-0Pg5rsv8.js" as="script"><link rel="prefetch" href="/assets/index.html-DyMPwGLI.js" as="script"><link rel="prefetch" href="/assets/2du35o4u.html-D9KKDL2x.js" as="script"><link rel="prefetch" href="/assets/2r9gkl6i.html-D8iEXZvB.js" as="script"><link rel="prefetch" href="/assets/2dzm0yhh.html-BH89dWQm.js" as="script"><link rel="prefetch" href="/assets/yhtzad5n.html-NuhjQYak.js" as="script"><link rel="prefetch" href="/assets/uple5utb.html-Yc2O5gse.js" as="script"><link rel="prefetch" href="/assets/l6hfyivk.html-CMdv98KI.js" as="script"><link rel="prefetch" href="/assets/index.html-TMcPCjq9.js" as="script"><link rel="prefetch" href="/assets/wpi46rn9.html-CMKW1EKX.js" as="script"><link rel="prefetch" href="/assets/index.html-B3mfcLTG.js" as="script"><link rel="prefetch" href="/assets/index.html-BaThulJ6.js" as="script"><link rel="prefetch" href="/assets/index.html-DcZPqYPX.js" as="script"><link rel="prefetch" href="/assets/index.html-xqF_hBNv.js" as="script"><link rel="prefetch" href="/assets/index.html-DM0ZufEa.js" as="script"><link rel="prefetch" href="/assets/index.html-D0GT6xc6.js" as="script"><link rel="prefetch" href="/assets/index.html-CZ23mnEk.js" as="script"><link rel="prefetch" href="/assets/index.html-njJSRZot.js" as="script"><link rel="prefetch" href="/assets/index.html-B2-RUGjR.js" as="script"><link rel="prefetch" href="/assets/index.html-DBPn9Yr1.js" as="script"><link rel="prefetch" href="/assets/5roawtc8.html-CFZwwV3g.js" as="script"><link rel="prefetch" href="/assets/jvhedlr5.html-Bak_mR4c.js" as="script"><link rel="prefetch" href="/assets/p6i6039w.html-C27FrCRv.js" as="script"><link rel="prefetch" href="/assets/2jr1jedy.html-CTAz4VXQ.js" as="script"><link rel="prefetch" href="/assets/dzlzve99.html-Bg7Z2feK.js" as="script"><link rel="prefetch" href="/assets/x19bqs0v.html-C9HNuT7I.js" as="script"><link rel="prefetch" href="/assets/nobwyjxs.html-DyZeoWbu.js" as="script"><link rel="prefetch" href="/assets/wunz2df4.html-k0LOyM2J.js" as="script"><link rel="prefetch" href="/assets/aa3k4mol.html-BYL6XyWf.js" as="script"><link rel="prefetch" href="/assets/2rw9s4ov.html-Cmu9yT1Q.js" as="script"><link rel="prefetch" href="/assets/uk6m8qek.html-RDS31I35.js" as="script"><link rel="prefetch" href="/assets/d3xuhftg.html-Ak842LnD.js" as="script"><link rel="prefetch" href="/assets/p7eni4yk.html-BDkDR4Tu.js" as="script"><link rel="prefetch" href="/assets/index.html-mHNQ3_3B.js" as="script"><link rel="prefetch" href="/assets/qjhobk70.html-BDHj-eps.js" as="script"><link rel="prefetch" href="/assets/fy4ir6qu.html-CTuQto2r.js" as="script"><link rel="prefetch" href="/assets/p26na2xn.html-D-G6J1Am.js" as="script"><link rel="prefetch" href="/assets/3yq64yem.html-CFSEVvY9.js" as="script"><link rel="prefetch" href="/assets/txljcmhs.html-h64Q_2qX.js" as="script"><link rel="prefetch" href="/assets/9yfqmskp.html-BPi_oXM5.js" as="script"><link rel="prefetch" href="/assets/n4vjr7ai.html-CMmqKZyU.js" as="script"><link rel="prefetch" href="/assets/0iwh96zh.html-DyWYqYlR.js" as="script"><link rel="prefetch" href="/assets/rvg884av.html-D1kh_z0E.js" as="script"><link rel="prefetch" href="/assets/wuixmktv.html-Cdwmd5Cg.js" as="script"><link rel="prefetch" href="/assets/0sqnokd9.html-DrUoHbf1.js" as="script"><link rel="prefetch" href="/assets/0tiv1eo5.html-CTpQJsz0.js" as="script"><link rel="prefetch" href="/assets/gx35ljxy.html-Ddj_cvUB.js" as="script"><link rel="prefetch" href="/assets/dz7xrv8r.html-CP3P_0--.js" as="script"><link rel="prefetch" href="/assets/lbcjiz0a.html-CJ6xE4mS.js" as="script"><link rel="prefetch" href="/assets/cw3zdi0e.html-D-uFVi73.js" as="script"><link rel="prefetch" href="/assets/92niv85w.html-D3fn74z8.js" as="script"><link rel="prefetch" href="/assets/u9a8l52q.html-Cb3tP-jN.js" as="script"><link rel="prefetch" href="/assets/pd3dfzbv.html-CuJ0b_wX.js" as="script"><link rel="prefetch" href="/assets/aeszzuak.html-DgJvTJeZ.js" as="script"><link rel="prefetch" href="/assets/3ngsr69f.html-C6Qemh6h.js" as="script"><link rel="prefetch" href="/assets/ac8if0mx.html-DMC63W1I.js" as="script"><link rel="prefetch" href="/assets/c4yjmi8h.html-B1drn-Gj.js" as="script"><link rel="prefetch" href="/assets/iy2w2fu4.html-OXKpxEhN.js" as="script"><link rel="prefetch" href="/assets/yioa2t5v.html-Dz5C6g6o.js" as="script"><link rel="prefetch" href="/assets/dvt8pds7.html-C4MUrASw.js" as="script"><link rel="prefetch" href="/assets/rbmpsarm.html-BpDdZxqg.js" as="script"><link rel="prefetch" href="/assets/6invzfyp.html-BWiHYAeq.js" as="script"><link rel="prefetch" href="/assets/nfazhyzz.html-DDe-Dria.js" as="script"><link rel="prefetch" href="/assets/knkktgpz.html-x8ySHzME.js" as="script"><link rel="prefetch" href="/assets/2hcc5os5.html-C8yHH-8j.js" as="script"><link rel="prefetch" href="/assets/sl6fpqm3.html-Ct8LsJQq.js" as="script"><link rel="prefetch" href="/assets/9fot9wss.html-hm0Pmoc2.js" as="script"><link rel="prefetch" href="/assets/843hc9cx.html-jqt55niE.js" as="script"><link rel="prefetch" href="/assets/m436grh4.html-9ZIeerl8.js" as="script"><link rel="prefetch" href="/assets/9kvdqeos.html-h_cUEek8.js" as="script"><link rel="prefetch" href="/assets/u32v2r0f.html-C21oHo6g.js" as="script"><link rel="prefetch" href="/assets/jt126jh8.html-BSQ2_YiL.js" as="script"><link rel="prefetch" href="/assets/i2oad2dq.html-CDz6PM2o.js" as="script"><link rel="prefetch" href="/assets/umxhdze6.html-hnfzqtbz.js" as="script"><link rel="prefetch" href="/assets/dfq8fzaf.html-CIPFqHhH.js" as="script"><link rel="prefetch" href="/assets/oodx3ekp.html-DVTg4Umm.js" as="script"><link rel="prefetch" href="/assets/98a44e8d.html-DN7zQrZf.js" as="script"><link rel="prefetch" href="/assets/v0b2mzv1.html-XBez00RU.js" as="script"><link rel="prefetch" href="/assets/fy8wnc05.html-C2nw0Ncc.js" as="script"><link rel="prefetch" href="/assets/fr9zy2sf.html-BJArU394.js" as="script"><link rel="prefetch" href="/assets/olg66auh.html-L6SQ7pK0.js" as="script"><link rel="prefetch" href="/assets/qxbftl1v.html-Bzo-Zm7d.js" as="script"><link rel="prefetch" href="/assets/5qo24w6v.html-V2PFqQqK.js" as="script"><link rel="prefetch" href="/assets/9t3zy1q8.html-BsE9UWcW.js" as="script"><link rel="prefetch" href="/assets/k8g9rpjj.html-0pwwG3Jb.js" as="script"><link rel="prefetch" href="/assets/x3s75sms.html-C5_X-DUu.js" as="script"><link rel="prefetch" href="/assets/ih1sw59u.html-yx58WN9x.js" as="script"><link rel="prefetch" href="/assets/91vlvk3n.html-CyMM5dpJ.js" as="script"><link rel="prefetch" href="/assets/kvq55h37.html-ChLyPEhI.js" as="script"><link rel="prefetch" href="/assets/7uulx10p.html-mHasI4A_.js" as="script"><link rel="prefetch" href="/assets/404.html-VQnsh478.js" as="script"><link rel="prefetch" href="/assets/index.html-DOUDLteW.js" as="script"><link rel="prefetch" href="/assets/index.html-DGewL7TU.js" as="script"><link rel="prefetch" href="/assets/index.html-DHWBtlN3.js" as="script"><link rel="prefetch" href="/assets/index.html-dKaJBicz.js" as="script"><link rel="prefetch" href="/assets/photoswipe.esm-GXRgw7eJ.js" as="script"><link rel="prefetch" href="/assets/searchBox-default-zrTvy_cS.js" as="script"><link rel="prefetch" href="/assets/SearchBox-Dw_kF8vQ.js" as="script"><link rel="prefetch" href="/assets/setupDevtools-7MC2TMWH-BnheO2Xb.js" as="script"></head><body><div id="app"><!--[--><!--[--><div class="theme-plume vp-layout" vp-container data-v-20c46894><!--[--><!--[--><!--]--><!--[--><span tabindex="-1" data-v-441202b6></span><a href="#VPContent" class="vp-skip-link visually-hidden" data-v-441202b6> Skip to content </a><!--]--><!----><header class="vp-nav" data-v-20c46894 data-v-5030c805><div class="vp-navbar" vp-navbar data-v-5030c805 data-v-54557ab8><div class="wrapper" data-v-54557ab8><div class="container" data-v-54557ab8><div class="title" data-v-54557ab8><div class="vp-navbar-title has-sidebar" data-v-54557ab8 data-v-0235cf09><a class="vp-link no-icon link title" href="/" data-v-0235cf09 data-v-2a167ae6><!--[--><!--[--><!--]--><!--[--><!--[--><!--[--><img class="vp-image dark logo" src="/logo.png" alt data-v-b1e9a859><!--]--><!--[--><img class="vp-image light logo" src="/logo.png" alt data-v-b1e9a859><!--]--><!--]--><!--]--><span data-v-0235cf09>云博浩克</span><!--[--><!--]--><!--]--><!----></a></div></div><div class="content" data-v-54557ab8><div class="content-body" data-v-54557ab8><!--[--><!--]--><div class="vp-navbar-search search" data-v-54557ab8><div class="search-wrapper" data-v-b5b009bb><!----><div id="local-search" data-v-b5b009bb><button type="button" class="mini-search mini-search-button" aria-label="搜索文档" data-v-b5b009bb><span class="mini-search-button-container"><svg class="mini-search-search-icon" width="20" height="20" viewBox="0 0 20 20" aria-label="search icon"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="mini-search-button-placeholder">搜索文档</span></span><span class="mini-search-button-keys"><kbd class="mini-search-button-key"></kbd><kbd class="mini-search-button-key">K</kbd></span></button></div></div></div><nav aria-labelledby="main-nav-aria-label" class="vp-navbar-menu menu" data-v-54557ab8 data-v-326bca54><span id="main-nav-aria-label" class="visually-hidden" data-v-326bca54>Main Navigation</span><!--[--><!--[--><a class="vp-link no-icon link navbar-menu-link" href="/" tabindex="0" data-v-326bca54 data-v-d1674f53 data-v-2a167ae6><!--[--><!----><span data-v-d1674f53>首页</span><!--]--><!----></a><!--]--><!--[--><a class="vp-link no-icon link navbar-menu-link" href="/blog/" tabindex="0" data-v-326bca54 data-v-d1674f53 data-v-2a167ae6><!--[--><!----><span data-v-d1674f53>博客</span><!--]--><!----></a><!--]--><!--[--><div class="vp-flyout vp-navbar-menu-group" data-v-326bca54 data-v-721d4219><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-721d4219><span class="text" data-v-721d4219><!----><!----><span data-v-721d4219>笔记</span><span class="vpi-chevron-down text-icon" data-v-721d4219></span></span></button><div class="menu" data-v-721d4219><div class="vp-menu" data-v-721d4219 data-v-857f2925><div class="items" data-v-857f2925><!--[--><!--[--><div class="vp-menu-link" data-v-857f2925 data-v-8363c29f><a class="vp-link no-icon link" href="/github/sj4lt68r.html" data-v-8363c29f data-v-2a167ae6><!--[--><!----> git<!--]--><!----></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-857f2925 data-v-8363c29f><a class="vp-link no-icon link" href="/linux/vmayhukq.html" data-v-8363c29f data-v-2a167ae6><!--[--><!----> Linux<!--]--><!----></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-857f2925 data-v-8363c29f><a class="vp-link no-icon link" href="/llm/fk9nko57.html" data-v-8363c29f data-v-2a167ae6><!--[--><!----> LLM<!--]--><!----></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-857f2925 data-v-8363c29f><a class="vp-link no-icon link" href="/nas/tbvtxc2q.html" data-v-8363c29f data-v-2a167ae6><!--[--><!----> NAS<!--]--><!----></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--[--><div class="vp-flyout vp-navbar-menu-group" data-v-326bca54 data-v-721d4219><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-721d4219><span class="text" data-v-721d4219><!----><!----><span data-v-721d4219>语言</span><span class="vpi-chevron-down text-icon" data-v-721d4219></span></span></button><div class="menu" data-v-721d4219><div class="vp-menu" data-v-721d4219 data-v-857f2925><div class="items" data-v-857f2925><!--[--><!--[--><div class="vp-menu-link" data-v-857f2925 data-v-8363c29f><a class="vp-link no-icon link" href="/javascript/zxd5tb3v.html" data-v-8363c29f data-v-2a167ae6><!--[--><!----> JavaScript<!--]--><!----></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-857f2925 data-v-8363c29f><a class="vp-link no-icon link" href="/python/m2c9sj3x.html" data-v-8363c29f data-v-2a167ae6><!--[--><!----> Python<!--]--><!----></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-857f2925 data-v-8363c29f><a class="vp-link no-icon link" href="/latex/kcs76m2w.html" data-v-8363c29f data-v-2a167ae6><!--[--><!----> LaTeX<!--]--><!----></a></div><!--]--><!--[--><div class="vp-menu-link" data-v-857f2925 data-v-8363c29f><a class="vp-link no-icon link" href="/HarmonyOS/CJ/vgjem0cq.html" data-v-8363c29f data-v-2a167ae6><!--[--><!----> 仓颉<!--]--><!----></a></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><!----><div class="vp-navbar-appearance appearance" data-v-54557ab8 data-v-4e828f39><button class="vp-switch vp-switch-appearance" type="button" role="switch" title aria-checked="false" data-v-4e828f39 data-v-13e4f852 data-v-7505adda><span class="check" data-v-7505adda><span class="icon" data-v-7505adda><!--[--><span class="vpi-sun sun" data-v-13e4f852></span><span class="vpi-moon moon" data-v-13e4f852></span><!--]--></span></span></button></div><div class="vp-social-links vp-navbar-social-links social-links" data-v-54557ab8 data-v-10090688 data-v-ff688683><!--[--><a class="vp-social-link no-icon" href="https://github.com/matiastang" aria-label="github" target="_blank" rel="noopener" data-v-ff688683 data-v-09941e38><span class="vpi-social-github" /></a><!--]--></div><div class="vp-flyout vp-navbar-extra extra" data-v-54557ab8 data-v-79d3b311 data-v-721d4219><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-721d4219><span class="vpi-more-horizontal icon" data-v-721d4219></span></button><div class="menu" data-v-721d4219><div class="vp-menu" data-v-721d4219 data-v-857f2925><!----><!--[--><!--[--><!----><div class="group" data-v-79d3b311><div class="item appearance" data-v-79d3b311><p class="label" data-v-79d3b311>外观</p><div class="appearance-action" data-v-79d3b311><button class="vp-switch vp-switch-appearance" type="button" role="switch" title aria-checked="false" data-v-79d3b311 data-v-13e4f852 data-v-7505adda><span class="check" data-v-7505adda><span class="icon" data-v-7505adda><!--[--><span class="vpi-sun sun" data-v-13e4f852></span><span class="vpi-moon moon" data-v-13e4f852></span><!--]--></span></span></button></div></div></div><div class="group" data-v-79d3b311><div class="item social-links" data-v-79d3b311><div class="vp-social-links social-links-list" data-v-79d3b311 data-v-ff688683><!--[--><a class="vp-social-link no-icon" href="https://github.com/matiastang" aria-label="github" target="_blank" rel="noopener" data-v-ff688683 data-v-09941e38><span class="vpi-social-github" /></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="vp-navbar-hamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="nav-screen" data-v-54557ab8 data-v-87fff336><span class="container" data-v-87fff336><span class="top" data-v-87fff336></span><span class="middle" data-v-87fff336></span><span class="bottom" data-v-87fff336></span></span></button></div></div></div></div><div class="divider" data-v-54557ab8><div class="divider-line" data-v-54557ab8></div></div></div><!----></header><div class="vp-local-nav reached-top is-blog" data-v-20c46894 data-v-9001595f><button class="menu" aria-expanded="false" aria-controls="SidebarNav" data-v-9001595f><span class="vpi-align-left menu-icon" data-v-9001595f></span><span class="menu-text" data-v-9001595f>Menu</span></button><div class="vp-local-nav-outline-dropdown" style="--vp-vh:0px;" data-v-9001595f data-v-c9a17cae><button data-v-c9a17cae>返回顶部</button><!----></div></div><aside class="vp-sidebar" vp-sidebar data-v-20c46894 data-v-0920712d><div class="curtain" data-v-0920712d></div><nav id="SidebarNav" class="nav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-0920712d><span id="sidebar-aria-label" class="visually-hidden" data-v-0920712d> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-5ca4d237><section class="vp-sidebar-item sidebar-item level-0" data-v-5ca4d237 data-v-190b3228><!----><div class="items" data-v-190b3228><!--[--><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-190b3228 data-v-190b3228><div class="item" data-v-190b3228><div class="indicator" data-v-190b3228></div><!----><a class="vp-link no-icon link link" href="/llm/fk9nko57.html" data-v-190b3228 data-v-2a167ae6><!--[--><p class="text" data-v-190b3228>LLM 介绍</p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-190b3228 data-v-190b3228><div class="item" data-v-190b3228><div class="indicator" data-v-190b3228></div><!----><a class="vp-link no-icon link link" href="/llm/sfssu6j2.html" data-v-190b3228 data-v-2a167ae6><!--[--><p class="text" data-v-190b3228>本地大模型部署</p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-190b3228 data-v-190b3228><div class="item" data-v-190b3228><div class="indicator" data-v-190b3228></div><!----><a class="vp-link no-icon link link" href="/llm/eg9wm2zf.html" data-v-190b3228 data-v-2a167ae6><!--[--><p class="text" data-v-190b3228>本地大模型可视化</p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-190b3228 data-v-190b3228><div class="item" data-v-190b3228><div class="indicator" data-v-190b3228></div><!----><a class="vp-link no-icon link link" href="/llm/nhz2cb83.html" data-v-190b3228 data-v-2a167ae6><!--[--><p class="text" data-v-190b3228>本地大模型计入知识库</p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-190b3228 data-v-190b3228><div class="item" data-v-190b3228><div class="indicator" data-v-190b3228></div><!----><a class="vp-link no-icon link link" href="/llm/epctyr8y.html" data-v-190b3228 data-v-2a167ae6><!--[--><p class="text" data-v-190b3228>LLM 框架</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-5ca4d237><section class="vp-sidebar-item sidebar-item level-0 collapsible collapsed" data-v-5ca4d237 data-v-190b3228><div class="item" role="button" tabindex="0" data-v-190b3228><div class="indicator" data-v-190b3228></div><!----><h2 class="text" data-v-190b3228>DeepSeek</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-190b3228><span class="vpi-chevron-right caret-icon" data-v-190b3228></span></div></div><div class="items" data-v-190b3228><!--[--><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-190b3228 data-v-190b3228><div class="item" data-v-190b3228><div class="indicator" data-v-190b3228></div><!----><a class="vp-link no-icon link link" href="/llm/deepseek/txljcmhs.html" data-v-190b3228 data-v-2a167ae6><!--[--><p class="text" data-v-190b3228>Native Sparse Attention</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-5ca4d237><section class="vp-sidebar-item sidebar-item level-0 collapsible collapsed" data-v-5ca4d237 data-v-190b3228><div class="item" role="button" tabindex="0" data-v-190b3228><div class="indicator" data-v-190b3228></div><!----><h2 class="text" data-v-190b3228>MoonShot</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-190b3228><span class="vpi-chevron-right caret-icon" data-v-190b3228></span></div></div><div class="items" data-v-190b3228><!--[--><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-190b3228 data-v-190b3228><div class="item" data-v-190b3228><div class="indicator" data-v-190b3228></div><!----><a class="vp-link no-icon link link" href="/llm/moonshot/u32v2r0f.html" data-v-190b3228 data-v-2a167ae6><!--[--><p class="text" data-v-190b3228>MoBA Mixture of Block Attention for Long-Context LLMs</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-5ca4d237><section class="vp-sidebar-item sidebar-item level-0 collapsible collapsed" data-v-5ca4d237 data-v-190b3228><div class="item" role="button" tabindex="0" data-v-190b3228><div class="indicator" data-v-190b3228></div><!----><h2 class="text" data-v-190b3228>Google</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-190b3228><span class="vpi-chevron-right caret-icon" data-v-190b3228></span></div></div><div class="items" data-v-190b3228><!--[--><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-190b3228 data-v-190b3228><div class="item" data-v-190b3228><div class="indicator" data-v-190b3228></div><!----><a class="vp-link no-icon link link" href="/llm/google/0sqnokd9.html" data-v-190b3228 data-v-2a167ae6><!--[--><p class="text" data-v-190b3228>Attention Is All You Need</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-5ca4d237><section class="vp-sidebar-item sidebar-item level-0 collapsible collapsed" data-v-5ca4d237 data-v-190b3228><div class="item" role="button" tabindex="0" data-v-190b3228><div class="indicator" data-v-190b3228></div><!----><h2 class="text" data-v-190b3228>MicroSoft</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-190b3228><span class="vpi-chevron-right caret-icon" data-v-190b3228></span></div></div><div class="items" data-v-190b3228><!--[--><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-190b3228 data-v-190b3228><div class="item" data-v-190b3228><div class="indicator" data-v-190b3228></div><!----><a class="vp-link no-icon link link" href="/llm/microsoft/rbmpsarm.html" data-v-190b3228 data-v-2a167ae6><!--[--><p class="text" data-v-190b3228>OmniParser</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-5ca4d237><section class="vp-sidebar-item sidebar-item level-0 collapsible collapsed" data-v-5ca4d237 data-v-190b3228><div class="item" role="button" tabindex="0" data-v-190b3228><div class="indicator" data-v-190b3228></div><!----><h2 class="text" data-v-190b3228>Twitter</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-190b3228><span class="vpi-chevron-right caret-icon" data-v-190b3228></span></div></div><div class="items" data-v-190b3228><!--[--><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-190b3228 data-v-190b3228><div class="item" data-v-190b3228><div class="indicator" data-v-190b3228></div><!----><a class="vp-link no-icon link link" href="/llm/twitter/kvq55h37.html" data-v-190b3228 data-v-2a167ae6><!--[--><p class="text" data-v-190b3228>Grok-1</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-5ca4d237><section class="vp-sidebar-item sidebar-item level-0 collapsible collapsed" data-v-5ca4d237 data-v-190b3228><div class="item" role="button" tabindex="0" data-v-190b3228><div class="indicator" data-v-190b3228></div><!----><h2 class="text" data-v-190b3228>OpenAI</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-190b3228><span class="vpi-chevron-right caret-icon" data-v-190b3228></span></div></div><div class="items" data-v-190b3228><!--[--><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-190b3228 data-v-190b3228><div class="item" data-v-190b3228><div class="indicator" data-v-190b3228></div><!----><a class="vp-link no-icon link link" href="/llm/openai/98a44e8d.html" data-v-190b3228 data-v-2a167ae6><!--[--><p class="text" data-v-190b3228>API文档</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-5ca4d237><section class="vp-sidebar-item sidebar-item level-0 collapsible collapsed" data-v-5ca4d237 data-v-190b3228><div class="item" role="button" tabindex="0" data-v-190b3228><div class="indicator" data-v-190b3228></div><!----><h2 class="text" data-v-190b3228>Qwen</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-190b3228><span class="vpi-chevron-right caret-icon" data-v-190b3228></span></div></div><div class="items" data-v-190b3228><!--[--><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-190b3228 data-v-190b3228><div class="item" data-v-190b3228><div class="indicator" data-v-190b3228></div><!----><a class="vp-link no-icon link link" href="/llm/qwen/qxbftl1v.html" data-v-190b3228 data-v-2a167ae6><!--[--><p class="text" data-v-190b3228>QwQ-32B</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-5ca4d237><section class="vp-sidebar-item sidebar-item level-0 collapsible collapsed" data-v-5ca4d237 data-v-190b3228><div class="item" role="button" tabindex="0" data-v-190b3228><div class="indicator" data-v-190b3228></div><!----><h2 class="text" data-v-190b3228>LLM Function Call</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-190b3228><span class="vpi-chevron-right caret-icon" data-v-190b3228></span></div></div><div class="items" data-v-190b3228><!--[--><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-190b3228 data-v-190b3228><div class="item" data-v-190b3228><div class="indicator" data-v-190b3228></div><!----><a class="vp-link no-icon link link" href="/llm/functioncall/rvg884av.html" data-v-190b3228 data-v-2a167ae6><!--[--><p class="text" data-v-190b3228>Function Call</p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-190b3228 data-v-190b3228><div class="item" data-v-190b3228><div class="indicator" data-v-190b3228></div><!----><a class="vp-link no-icon link link" href="/llm/functioncall/wuixmktv.html" data-v-190b3228 data-v-2a167ae6><!--[--><p class="text" data-v-190b3228>JSON Schema</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-5ca4d237><section class="vp-sidebar-item sidebar-item level-0 collapsible collapsed" data-v-5ca4d237 data-v-190b3228><div class="item" role="button" tabindex="0" data-v-190b3228><div class="indicator" data-v-190b3228></div><!----><h2 class="text" data-v-190b3228>LLM 服务商</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-190b3228><span class="vpi-chevron-right caret-icon" data-v-190b3228></span></div></div><div class="items" data-v-190b3228><!--[--><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-190b3228 data-v-190b3228><div class="item" data-v-190b3228><div class="indicator" data-v-190b3228></div><!----><a class="vp-link no-icon link link" href="/llm/nvidia/umxhdze6.html" data-v-190b3228 data-v-2a167ae6><!--[--><p class="text" data-v-190b3228>NVIDIA NIM</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-5ca4d237><section class="vp-sidebar-item sidebar-item level-0 collapsible collapsed" data-v-5ca4d237 data-v-190b3228><div class="item" role="button" tabindex="0" data-v-190b3228><div class="indicator" data-v-190b3228></div><!----><h2 class="text" data-v-190b3228>LLM 本地部署</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-190b3228><span class="vpi-chevron-right caret-icon" data-v-190b3228></span></div></div><div class="items" data-v-190b3228><!--[--><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-190b3228 data-v-190b3228><div class="item" data-v-190b3228><div class="indicator" data-v-190b3228></div><!----><a class="vp-link no-icon link link" href="/llm/ollama/oodx3ekp.html" data-v-190b3228 data-v-2a167ae6><!--[--><p class="text" data-v-190b3228>Ollama</p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-190b3228 data-v-190b3228><div class="item" data-v-190b3228><div class="indicator" data-v-190b3228></div><!----><a class="vp-link no-icon link link" href="/llm/lmstudio/ac8if0mx.html" data-v-190b3228 data-v-2a167ae6><!--[--><p class="text" data-v-190b3228>LMStudio</p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-190b3228 data-v-190b3228><div class="item" data-v-190b3228><div class="indicator" data-v-190b3228></div><!----><a class="vp-link no-icon link link" href="/llm/vllm/7uulx10p.html" data-v-190b3228 data-v-2a167ae6><!--[--><p class="text" data-v-190b3228>vLLM</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-5ca4d237><section class="vp-sidebar-item sidebar-item level-0 collapsible collapsed" data-v-5ca4d237 data-v-190b3228><div class="item" role="button" tabindex="0" data-v-190b3228><div class="indicator" data-v-190b3228></div><!----><h2 class="text" data-v-190b3228>LLM WEB</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-190b3228><span class="vpi-chevron-right caret-icon" data-v-190b3228></span></div></div><div class="items" data-v-190b3228><!--[--><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-190b3228 data-v-190b3228><div class="item" data-v-190b3228><div class="indicator" data-v-190b3228></div><!----><a class="vp-link no-icon link link" href="/llm/openwebui/v0b2mzv1.html" data-v-190b3228 data-v-2a167ae6><!--[--><p class="text" data-v-190b3228>Open WebUI 使用</p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-190b3228 data-v-190b3228><div class="item" data-v-190b3228><div class="indicator" data-v-190b3228></div><!----><a class="vp-link no-icon link link" href="/llm/openwebui/fy8wnc05.html" data-v-190b3228 data-v-2a167ae6><!--[--><p class="text" data-v-190b3228>Open WebUI 接入RAG</p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-190b3228 data-v-190b3228><div class="item" data-v-190b3228><div class="indicator" data-v-190b3228></div><!----><a class="vp-link no-icon link link" href="/llm/dify/9yfqmskp.html" data-v-190b3228 data-v-2a167ae6><!--[--><p class="text" data-v-190b3228>Dify</p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-190b3228 data-v-190b3228><div class="item" data-v-190b3228><div class="indicator" data-v-190b3228></div><!----><a class="vp-link no-icon link link" href="/llm/anythingllm/5roawtc8.html" data-v-190b3228 data-v-2a167ae6><!--[--><p class="text" data-v-190b3228>AnythingLLM</p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-190b3228 data-v-190b3228><div class="item" data-v-190b3228><div class="indicator" data-v-190b3228></div><!----><a class="vp-link no-icon link link" href="/llm/pageassist/fr9zy2sf.html" data-v-190b3228 data-v-2a167ae6><!--[--><p class="text" data-v-190b3228>Page Assist</p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-190b3228 data-v-190b3228><div class="item" data-v-190b3228><div class="indicator" data-v-190b3228></div><!----><a class="vp-link no-icon link link" href="/llm/nextchat/jt126jh8.html" data-v-190b3228 data-v-2a167ae6><!--[--><p class="text" data-v-190b3228>Next Chat</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-5ca4d237><section class="vp-sidebar-item sidebar-item level-0 collapsible collapsed" data-v-5ca4d237 data-v-190b3228><div class="item" role="button" tabindex="0" data-v-190b3228><div class="indicator" data-v-190b3228></div><!----><h2 class="text" data-v-190b3228>LLM 搜索</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-190b3228><span class="vpi-chevron-right caret-icon" data-v-190b3228></span></div></div><div class="items" data-v-190b3228><!--[--><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-190b3228 data-v-190b3228><div class="item" data-v-190b3228><div class="indicator" data-v-190b3228></div><!----><a class="vp-link no-icon link link" href="/llm/search/9t3zy1q8.html" data-v-190b3228 data-v-2a167ae6><!--[--><p class="text" data-v-190b3228>DuckDuckGo</p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-190b3228 data-v-190b3228><div class="item" data-v-190b3228><div class="indicator" data-v-190b3228></div><!----><a class="vp-link no-icon link link" href="/llm/search/x3s75sms.html" data-v-190b3228 data-v-2a167ae6><!--[--><p class="text" data-v-190b3228>SearXNG</p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-190b3228 data-v-190b3228><div class="item" data-v-190b3228><div class="indicator" data-v-190b3228></div><!----><a class="vp-link no-icon link link" href="/llm/search/k8g9rpjj.html" data-v-190b3228 data-v-2a167ae6><!--[--><p class="text" data-v-190b3228>JinaAI</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-5ca4d237><section class="vp-sidebar-item sidebar-item level-0 collapsible collapsed" data-v-5ca4d237 data-v-190b3228><div class="item" role="button" tabindex="0" data-v-190b3228><div class="indicator" data-v-190b3228></div><!----><h2 class="text" data-v-190b3228>LLM 算法</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-190b3228><span class="vpi-chevron-right caret-icon" data-v-190b3228></span></div></div><div class="items" data-v-190b3228><!--[--><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-190b3228 data-v-190b3228><div class="item" data-v-190b3228><div class="indicator" data-v-190b3228></div><!----><a class="vp-link no-icon link link" href="/llm/rnn/5qo24w6v.html" data-v-190b3228 data-v-2a167ae6><!--[--><p class="text" data-v-190b3228>RNN</p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-190b3228 data-v-190b3228><div class="item" data-v-190b3228><div class="indicator" data-v-190b3228></div><!----><a class="vp-link no-icon link link" href="/llm/cnn/qjhobk70.html" data-v-190b3228 data-v-2a167ae6><!--[--><p class="text" data-v-190b3228>CNN</p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-190b3228 data-v-190b3228><div class="item" data-v-190b3228><div class="indicator" data-v-190b3228></div><!----><a class="vp-link no-icon link link" href="/llm/google/0sqnokd9.html" data-v-190b3228 data-v-2a167ae6><!--[--><p class="text" data-v-190b3228>Attention</p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-190b3228 data-v-190b3228><div class="item" data-v-190b3228><div class="indicator" data-v-190b3228></div><!----><a class="vp-link no-icon link link" href="/llm/bert/p7eni4yk.html" data-v-190b3228 data-v-2a167ae6><!--[--><p class="text" data-v-190b3228>BERT</p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-190b3228 data-v-190b3228><div class="item" data-v-190b3228><div class="indicator" data-v-190b3228></div><!----><a class="vp-link no-icon link link" href="/llm/gpt/gx35ljxy.html" data-v-190b3228 data-v-2a167ae6><!--[--><p class="text" data-v-190b3228>GPT</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-5ca4d237><section class="vp-sidebar-item sidebar-item level-0 collapsible collapsed" data-v-5ca4d237 data-v-190b3228><div class="item" role="button" tabindex="0" data-v-190b3228><div class="indicator" data-v-190b3228></div><!----><h2 class="text" data-v-190b3228>LLM 框架</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-190b3228><span class="vpi-chevron-right caret-icon" data-v-190b3228></span></div></div><div class="items" data-v-190b3228><!--[--><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-190b3228 data-v-190b3228><div class="item" data-v-190b3228><div class="indicator" data-v-190b3228></div><!----><a class="vp-link no-icon link link" href="/llm/transformer/ih1sw59u.html" data-v-190b3228 data-v-2a167ae6><!--[--><p class="text" data-v-190b3228>Transformer 框架</p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-190b3228 data-v-190b3228><div class="item" data-v-190b3228><div class="indicator" data-v-190b3228></div><!----><a class="vp-link no-icon link link" href="/llm/mamba/c4yjmi8h.html" data-v-190b3228 data-v-2a167ae6><!--[--><p class="text" data-v-190b3228>Mamba 框架</p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-190b3228 data-v-190b3228><div class="item" data-v-190b3228><div class="indicator" data-v-190b3228></div><!----><a class="vp-link no-icon link link" href="/llm/ttt/91vlvk3n.html" data-v-190b3228 data-v-2a167ae6><!--[--><p class="text" data-v-190b3228>TTT 框架</p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-190b3228 data-v-190b3228><div class="item" data-v-190b3228><div class="indicator" data-v-190b3228></div><!----><a class="vp-link no-icon link link" href="/llm/ktransformers/92niv85w.html" data-v-190b3228 data-v-2a167ae6><!--[--><p class="text" data-v-190b3228>ktransformers 介绍</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-5ca4d237><section class="vp-sidebar-item sidebar-item level-0 collapsible collapsed" data-v-5ca4d237 data-v-190b3228><div class="item" role="button" tabindex="0" data-v-190b3228><div class="indicator" data-v-190b3228></div><!----><h2 class="text" data-v-190b3228>LLM 社区</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-190b3228><span class="vpi-chevron-right caret-icon" data-v-190b3228></span></div></div><div class="items" data-v-190b3228><!--[--><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-190b3228 data-v-190b3228><div class="item" data-v-190b3228><div class="indicator" data-v-190b3228></div><!----><a class="vp-link no-icon link link" href="/llm/huggingface/dz7xrv8r.html" data-v-190b3228 data-v-2a167ae6><!--[--><p class="text" data-v-190b3228>Huggingface 介绍</p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-190b3228 data-v-190b3228><div class="item" data-v-190b3228><div class="indicator" data-v-190b3228></div><!----><a class="vp-link no-icon link link" href="/llm/modelscope/843hc9cx.html" data-v-190b3228 data-v-2a167ae6><!--[--><p class="text" data-v-190b3228>ModelScope 介绍</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><!--[--><div id="VPContent" vp-content class="vp-content has-sidebar" data-v-20c46894 data-v-6ab7ff17><div class="has-sidebar has-aside vp-doc-container" data-v-71bde006><!--[--><!--]--><div class="container" data-v-71bde006><div class="aside" vp-outline data-v-71bde006><div class="aside-curtain" data-v-71bde006></div><div class="aside-container" data-v-71bde006><div class="aside-content" data-v-71bde006><div class="vp-doc-aside" data-v-71bde006 data-v-40c26822><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="vp-doc-aside-outline" role="navigation" data-v-40c26822 data-v-c93cc600><div class="content" data-v-c93cc600><div class="outline-marker" data-v-c93cc600></div><div id="doc-outline-aria-label" aria-level="2" class="outline-title" role="heading" data-v-c93cc600><span data-v-c93cc600>此页内容</span><span class="vpi-print icon" data-v-c93cc600></span></div><ul class="root" data-v-c93cc600 data-v-48ac2e3e><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-40c26822></div><!--[--><!--]--></div></div></div></div><div class="content" data-v-71bde006><div class="content-container" data-v-71bde006><!--[--><!--]--><main class="main" data-v-71bde006><nav class="vp-breadcrumb" data-v-71bde006 data-v-2b9a91b9><ol vocab="https://schema.org/" typeof="BreadcrumbList" data-v-2b9a91b9><!--[--><li property="itemListElement" typeof="ListItem" data-v-2b9a91b9><a class="vp-link no-icon link breadcrumb" href="/" property="item" typeof="WebPage" data-v-2b9a91b9 data-v-2a167ae6><!--[-->首页<!--]--><!----></a><span class="vpi-chevron-right" data-v-2b9a91b9></span><meta property="name" content="首页" data-v-2b9a91b9><meta property="position" content="1" data-v-2b9a91b9></li><li property="itemListElement" typeof="ListItem" data-v-2b9a91b9><a class="vp-link no-icon link breadcrumb current" href="/llm/mcp/z29ki5vu.html" property="item" typeof="WebPage" data-v-2b9a91b9 data-v-2a167ae6><!--[-->MCP Servers<!--]--><!----></a><!----><meta property="name" content="MCP Servers" data-v-2b9a91b9><meta property="position" content="2" data-v-2b9a91b9></li><!--]--></ol></nav><!--[--><h1 class="vp-doc-title page-title" data-v-2ce89ab8>MCP Servers <!----></h1><div class="vp-doc-meta" data-v-2ce89ab8><p class="reading-time" data-v-2ce89ab8><span class="vpi-books icon" data-v-2ce89ab8></span><span data-v-2ce89ab8>约 3515 字</span><span data-v-2ce89ab8>大约 12 分钟</span></p><!----><p class="create-time" data-v-2ce89ab8><span class="vpi-clock icon" data-v-2ce89ab8></span><span data-v-2ce89ab8>2025-05-07</span></p></div><!--]--><div class="_llm_mcp_z29ki5vu external-link-icon-enabled vp-doc plume-content" vp-content data-v-71bde006><div data-v-71bde006><h2 id="使用python开发mcp服务" tabindex="-1"><a class="header-anchor" href="#使用python开发mcp服务"><span>使用Python开发MCP服务</span></a></h2><p>参考<a href="https://modelcontextprotocol.io/quickstart/server" target="_blank" rel="noopener noreferrer">For Server Developers</a>我们来实现一个获取<strong>福彩双色球</strong>最新中奖的服务。</p><h3 id="准备" tabindex="-1"><a class="header-anchor" href="#准备"><span>准备</span></a></h3><p>为了实现这个功能，我们需要准备以下内容：</p><ul><li>一个可以获取福彩双色球数据的接口。（这里我之前启动了一个服务实现了这个功能，数据来源于网络）</li><li>创建一个项目，并安装必要的依赖。（这里我选择<code>github+python+uv</code>）</li></ul><h3 id="编写核心逻辑" tabindex="-1"><a class="header-anchor" href="#编写核心逻辑"><span>编写核心逻辑</span></a></h3><ol><li>初始化 FastMCP 服务器</li></ol><div class="language-py line-numbers-mode" data-ext="py" data-title="py"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">from</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> mcp</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">server</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">fastmcp </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">import</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> FastMCP</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># Initialize FastMCP server</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">mcp </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> FastMCP</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">welfare-lottery</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li>使用外部api获取最新的福彩双色球数据</li></ol><div class="language-py line-numbers-mode" data-ext="py" data-title="py"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">from</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> typing </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">import</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> Any</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">import</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> httpx</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># Define constants</span></span>
<span class="line"><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">USER_AGENT</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">welfare-lottery-app/0.1.0</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">async</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> def</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> welfare_lottery_request</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">url</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> str</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> -&gt;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> dict</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">[</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">str</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> Any</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> |</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> None</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span></span>
<span class="line"><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">    &quot;&quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">    调用远程服务接口</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">    Args:</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">        url (str): 地址</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">    Returns:</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">        dict[str, Any] | None: 结果</span></span>
<span class="line"><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">    &quot;&quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    headers </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">        &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">User-Agent</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> USER_AGENT</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">        &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Accept</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">application/json</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">    }</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    async</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> with</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> httpx</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">AsyncClient</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">()</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> as</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> client</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">        try</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">            response </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> await</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> client</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">get</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">url</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> headers</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">headers</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> timeout</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">30.0</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">            response</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">raise_for_status</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">()</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">            return</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> response</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">json</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">()</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">        except</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> Exception</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> as</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> err</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">            err_msg </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> str</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">err</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">            print</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Request Error:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> err_msg</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">            return</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> None</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="3"><li>格式化接口数据</li></ol><div class="language-py line-numbers-mode" data-ext="py" data-title="py"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">from</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> app</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">welfare_lottery_types </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">import</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> WelfareLotteryInfo</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> WelfareLotteryResponse</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">def</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> format_info</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">data</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> WelfareLotteryInfo</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> -&gt;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> str</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span></span>
<span class="line"><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">    &quot;&quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">    格式化信息</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">    Args:</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">        data (WelfareLotteryInfo): 数据</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">    Returns:</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">        str: 信息</span></span>
<span class="line"><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">    &quot;&quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    date </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> data</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">date</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    code </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> data</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">code</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    red </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> data</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">red</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    blue </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> data</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">blue</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    content </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> data</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">content</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    prize_grades </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> data</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">prize_grades</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    sales </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> data</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">sales</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    poolmoney </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> data</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">poolmoney</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    video_link </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> data</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">video_link</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    details_link </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> data</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">details_link</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    info_msg </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> f</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">&quot;&quot;&quot;</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">{</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">date</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">}</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">第</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">{</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">code</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">}</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">期中奖号码：红球</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">{</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">red</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">}</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">，蓝球</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">{</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">blue</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">}</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">&quot;&quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    if</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> content</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">        info_msg </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">+=</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> f</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">&quot;，一等奖地理分布为：</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">{</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">content</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">}</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    if</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> isinstance</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">prize_grades</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> list</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> and</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> len</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">prize_grades</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &gt;</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 0</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">        prize_grade_info </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">、</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">join</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">([</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">f</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">&quot;</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">{</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">i</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">type</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">}</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">等奖：</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">{</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">i</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">num</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">}</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">注，每注奖金：</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">{</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">i</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">money</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">}</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">元&quot;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> for</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> i </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">in</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> prize_grades</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">])</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">        info_msg </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">+=</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> f</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">&quot;，各等级中奖信息为：</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">{</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">prize_grade_info</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">}</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    if</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> sales</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">        info_msg </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">+=</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> f</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">&quot;，销售额为：</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">{</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">sales</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">}</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">元&quot;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    if</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> poolmoney</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">        info_msg </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">+=</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> f</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">&quot;，奖金池为：</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">{</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">poolmoney</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">}</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">元&quot;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    if</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> video_link</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">        info_msg </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">+=</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> f</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">&quot;，[视频链接](</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">{WELFARE_LOTTERY_LINK_BASE</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> +</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> video_link</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">}</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">)&quot;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    if</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> details_link</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">        info_msg </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">+=</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> f</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">&quot;，[详情链接](</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">{WELFARE_LOTTERY_LINK_BASE</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> +</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> details_link</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">}</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">)&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    return</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> info_msg</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="4"><li>编写 MCP Tool</li></ol><div class="language-py line-numbers-mode" data-ext="py" data-title="py"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">from</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> app</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">welfare_lottery_types </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">import</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> WelfareLotteryInfo</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> WelfareLotteryResponse</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">WELFARE_LOTTERY_API_BASE</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">https://api.tdytech.cn/api</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">WELFARE_LOTTERY_LINK_BASE</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">https://www.cwl.gov.cn</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">@</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">mcp</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">tool</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">()</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">async</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> def</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> get_welfare_lottery_last</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">count</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> int</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> |</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> None</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> None</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> -&gt;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> str</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span></span>
<span class="line"><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">    &quot;&quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">    获取福利彩票最新中奖信息，包含：日期、期号、红球（6个1-33的数字）、蓝球（1个1-16的数字）、每个省份一等奖中奖注数、各等级中奖信息（各等级中间数量及单注金额）、当期销售额、当期后奖金池、视频链接、详情链接</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">    双色球玩儿法说明：双色球投注区分为红色球号码区和蓝色球号码区，红色球号码区由1-33共三十三个号码组成，蓝色球号码区由1-16共十六个号码组成。</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">    中奖等级对照表：一等奖：6+1，二等奖：6+0，三等奖：5+1，四等奖：5+0、4+1，五等奖：4+0、3+1，六等奖：2+1、1+1、0+1。</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">    Args:</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">        count (int | None, optional): 获取最新的多少期信息. Defaults to None.</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">    Returns:</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">        str: 最新的信息总结</span></span>
<span class="line"><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">    &quot;&quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    url </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> f</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">&quot;</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">{WELFARE_LOTTERY_API_BASE}</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">/history/last&quot;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    if</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> count </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">is</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> not</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> None</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">        url </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">+=</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> f</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">&quot;?count=</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">{</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">count</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">}</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    res </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> await</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> welfare_lottery_request</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">url</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    if</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> not</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> isinstance</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">res</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> dict</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">):</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">        return</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">未获取到中奖信息</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    try</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">        wlres </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> WelfareLotteryResponse</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">**</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">res</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">        data </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> wlres</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">data</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">        if</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> not</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> data</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">            return</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">中奖列表为空</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">        latest </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> data</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">[</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">0</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">        red_balls </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> latest</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">red</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">split</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">()</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">        blue_ball </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> latest</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">blue</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">        return</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> f</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">&quot;红球: </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">{</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">, </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">join</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">red_balls</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">}</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 蓝球: </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">{</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">blue_ball</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">}</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    except</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> Exception</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> as</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> err</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">        errMsg </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> str</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">err</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">        print</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Error parsing response:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> res</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">        print</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Error:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> errMsg</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">        return</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">响应结果解析错误</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>WelfareLotteryInfo</code>、<code>WelfareLotteryResponse</code>是接口对应的类型文件。</p><ol start="5"><li>测试入口</li></ol><div class="language-py line-numbers-mode" data-ext="py" data-title="py"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">def</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> main</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">():</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    mcp</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">run</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">transport</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">stdio</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">if</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> __name__</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> ==</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">__main__</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    main</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">()</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>使用<code>uv run</code>运行，已检查。</p><div class="language-sh line-numbers-mode" data-ext="sh" data-title="sh"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> uv</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> run</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> main.py</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h3 id="测试" tabindex="-1"><a class="header-anchor" href="#测试"><span>测试</span></a></h3><p>检查无误后，我们在<code>VSCode</code>的<code>Cline</code>中添加来测试。</p><p>在<code>Cline</code>的配置文件<code>cline_mcp_settings.json</code>中我们添加刚刚创建的<code>mcp</code>服务。</p><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">{</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">    &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">welfare-lottery</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">      &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">autoApprove</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> [],</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">      &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">disabled</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> false</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">      &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">timeout</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 30</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">      &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">command</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">/Users/matias/.pyenv/shims/uv</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">      &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">args</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> [</span></span>
<span class="line"><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">        &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">--directory</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">        &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">/Users/matias/matias/MT/MTGithub/MCP/MCP-Servers/welfare-lottery-server-python</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">        &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">run</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">        &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">main.py</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">      ],</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">      &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">transportType</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">stdio</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">    },</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>上面几点需要注意</p><ul><li><code>command</code>：这里需要选择一个完整的依赖环境地址。我这里使用的是<code>which uv</code>查询到得<code>/Users/matias/.pyenv/shims/uv</code>。</li><li><code>args</code>中使用的地址是完整地址，<code>--directory</code>指定的是<code>main.py</code>所在的目录。不能使用<code>~/matias/matias/MT/MTGithub/MCP/MCP-Servers/welfare-lottery-server-python</code>这种地址。</li></ul><p>配置完成之后就会更新，服务绿色就表示启动并连接成功了。</p><p><img src="/notes/llm/mcp/mcp%E6%9C%8D%E5%8A%A1%E7%8A%B6%E6%80%81.png" alt="mcp服务状态"></p><p>服务启动成功后，我们就可以使用<code>Cline</code>问答了。</p><p><strong>注意</strong> 这里使用的是<code>deepseek/deepseek-chat:free</code>模型，具体请查看<a class="route-link" href="/llm/mcp/dvt8pds7.html">MCP 客户端</a></p><p><img src="/notes/llm/mcp/cline%E5%88%86%E6%9E%90%E9%97%AE%E9%A2%98.png" alt="cline分析问题"></p><p><img src="/notes/llm/mcp/cline%E8%B0%83%E7%94%A8tool.png" alt="cline调用tool"></p><p><img src="/notes/llm/mcp/cline%E5%9B%9E%E7%AD%94.png" alt="cline回答"></p><p>如上就完成了本地开发 MCP 服务并测试。也可以在官方文档中推荐的<code>Claude for Desktop</code>中测试。</p><h3 id="完整代码" tabindex="-1"><a class="header-anchor" href="#完整代码"><span>完整代码</span></a></h3><div class="language-py line-numbers-mode" data-ext="py" data-title="py"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;&#39;&#39;</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Author: matiastang</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Date: 2025-05-06 15:47:44</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">LastEditors: matiastang</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">LastEditTime: 2025-05-07 15:39:03</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">FilePath: /welfare-lottery-server-python/main.py</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Description: welfare-lottery-server</span></span>
<span class="line"><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;&#39;&#39;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">from</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> typing </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">import</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> Any</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">import</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> httpx</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">from</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> mcp</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">server</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">fastmcp </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">import</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> FastMCP</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">from</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> app</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">welfare_lottery_types </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">import</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> WelfareLotteryInfo</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> WelfareLotteryResponse</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># Initialize FastMCP server</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">mcp </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> FastMCP</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">welfare-lottery</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># Define constants</span></span>
<span class="line"><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">WELFARE_LOTTERY_API_BASE</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">https://api.tdytech.cn/api</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">USER_AGENT</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">welfare-lottery-app/0.1.0</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">WELFARE_LOTTERY_LINK_BASE</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">https://www.cwl.gov.cn</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">async</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> def</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> welfare_lottery_request</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">url</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> str</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> -&gt;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> dict</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">[</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">str</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> Any</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> |</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> None</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span></span>
<span class="line"><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">    &quot;&quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">    调用远程服务接口</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">    Args:</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">        url (str): 地址</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">    Returns:</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">        dict[str, Any] | None: 结果</span></span>
<span class="line"><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">    &quot;&quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    headers </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">        &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">User-Agent</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> USER_AGENT</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">        &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Accept</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">application/json</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">    }</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    async</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> with</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> httpx</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">AsyncClient</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">()</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> as</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> client</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">        try</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">            response </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> await</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> client</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">get</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">url</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> headers</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">headers</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> timeout</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">30.0</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">            response</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">raise_for_status</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">()</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">            return</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> response</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">json</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">()</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">        except</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> Exception</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> as</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> err</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">            err_msg </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> str</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">err</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">            print</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Request Error:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> err_msg</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">            return</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> None</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">def</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> format_info</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">data</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> WelfareLotteryInfo</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> -&gt;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> str</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span></span>
<span class="line"><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">    &quot;&quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">    格式化信息</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">    Args:</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">        data (WelfareLotteryInfo): 数据</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">    Returns:</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">        str: 信息</span></span>
<span class="line"><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">    &quot;&quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    date </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> data</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">date</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    code </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> data</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">code</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    red </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> data</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">red</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    blue </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> data</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">blue</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    content </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> data</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">content</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    prize_grades </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> data</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">prize_grades</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    sales </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> data</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">sales</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    poolmoney </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> data</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">poolmoney</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    video_link </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> data</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">video_link</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    details_link </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> data</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">details_link</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    info_msg </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> f</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">&quot;&quot;&quot;</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">{</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">date</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">}</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">第</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">{</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">code</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">}</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">期中奖号码：红球</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">{</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">red</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">}</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">，蓝球</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">{</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">blue</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">}</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">&quot;&quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    if</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> content</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">        info_msg </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">+=</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> f</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">&quot;，一等奖地理分布为：</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">{</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">content</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">}</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    if</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> isinstance</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">prize_grades</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> list</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> and</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> len</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">prize_grades</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &gt;</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 0</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">        prize_grade_info </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">、</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">join</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">([</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">f</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">&quot;</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">{</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">i</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">type</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">}</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">等奖：</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">{</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">i</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">num</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">}</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">注，每注奖金：</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">{</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">i</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">money</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">}</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">元&quot;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> for</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> i </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">in</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> prize_grades</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">])</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">        info_msg </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">+=</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> f</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">&quot;，各等级中奖信息为：</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">{</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">prize_grade_info</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">}</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    if</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> sales</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">        info_msg </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">+=</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> f</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">&quot;，销售额为：</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">{</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">sales</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">}</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">元&quot;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    if</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> poolmoney</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">        info_msg </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">+=</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> f</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">&quot;，奖金池为：</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">{</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">poolmoney</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">}</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">元&quot;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    if</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> video_link</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">        info_msg </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">+=</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> f</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">&quot;，[视频链接](</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">{WELFARE_LOTTERY_LINK_BASE</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> +</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> video_link</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">}</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">)&quot;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    if</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> details_link</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">        info_msg </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">+=</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> f</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">&quot;，[详情链接](</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">{WELFARE_LOTTERY_LINK_BASE</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> +</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> details_link</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">}</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">)&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    return</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> info_msg</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">@</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">mcp</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">tool</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">()</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">async</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> def</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> get_welfare_lottery_last</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">count</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> int</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> |</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> None</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> None</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> -&gt;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> str</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span></span>
<span class="line"><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">    &quot;&quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">    获取福利彩票最新中奖信息，包含：日期、期号、红球（6个1-33的数字）、蓝球（1个1-16的数字）、每个省份一等奖中奖注数、各等级中奖信息（各等级中间数量及单注金额）、当期销售额、当期后奖金池、视频链接、详情链接</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">    双色球玩儿法说明：双色球投注区分为红色球号码区和蓝色球号码区，红色球号码区由1-33共三十三个号码组成，蓝色球号码区由1-16共十六个号码组成。</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">    中奖等级对照表：一等奖：6+1，二等奖：6+0，三等奖：5+1，四等奖：5+0、4+1，五等奖：4+0、3+1，六等奖：2+1、1+1、0+1。</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">    Args:</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">        count (int | None, optional): 获取最新的多少期信息. Defaults to None.</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">    Returns:</span></span>
<span class="line"><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">        str: 最新的信息总结</span></span>
<span class="line"><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">    &quot;&quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    url </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> f</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">&quot;</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">{WELFARE_LOTTERY_API_BASE}</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">/history/last&quot;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    if</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> count </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">is</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> not</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> None</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">        url </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">+=</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> f</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">&quot;?count=</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">{</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">count</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">}</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    res </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> await</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> welfare_lottery_request</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">url</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    if</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> not</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> isinstance</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">res</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> dict</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">):</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">        return</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">未获取到中奖信息</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    try</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">        wlres </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> WelfareLotteryResponse</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">**</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">res</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">        data </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> wlres</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">data</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">        if</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> not</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> data</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">            return</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">中奖列表为空</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">        latest </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> data</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">[</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">0</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">        red_balls </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> latest</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">red</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">split</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">()</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">        blue_ball </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> latest</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">blue</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">        return</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> f</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">&quot;红球: </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">{</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">, </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">join</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">red_balls</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">}</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 蓝球: </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">{</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">blue_ball</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">}</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    except</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> Exception</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> as</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> err</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">        errMsg </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> str</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">err</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">        print</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Error parsing response:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> res</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">        print</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Error:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> errMsg</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">        return</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">响应结果解析错误</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">def</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> main</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">():</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    mcp</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">run</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">transport</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">stdio</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">if</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> __name__</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> ==</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">__main__</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    main</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">()</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>完整项目地址：<a href="https://github.com/matiastang/welfare-lottery-server-python" target="_blank" rel="noopener noreferrer">welfare-lottery-server-python</a></p><h2 id="使用node开发mcp服务" tabindex="-1"><a class="header-anchor" href="#使用node开发mcp服务"><span>使用Node开发MCP服务</span></a></h2><p>参考<a href="https://modelcontextprotocol.io/quickstart/server" target="_blank" rel="noopener noreferrer">For Server Developers</a>我们来实现一个获取<strong>Bing每日壁纸</strong>资源的服务。</p><h3 id="准备-1" tabindex="-1"><a class="header-anchor" href="#准备-1"><span>准备</span></a></h3><p>为了实现这个功能，我们需要准备以下内容：</p><ul><li>一个可以获取Bing壁纸数据的接口。（这里使用：<code>https://cn.bing.com</code>）</li><li>创建一个项目，并安装必要的依赖。（这里我选择<code>github+node+ts+pnpm</code>）</li></ul><h3 id="核心逻辑" tabindex="-1"><a class="header-anchor" href="#核心逻辑"><span>核心逻辑</span></a></h3><ol><li>创建项目</li></ol><p>这里直接在GitHub上创建一个项目，然后拉取下来开发。</p><ol start="2"><li>安装依赖</li></ol><p>选择使用<code>pnpm</code>来安装依赖。<code>Node</code>的版本为：<code>v20.11.0</code></p><div class="language-sh line-numbers-mode" data-ext="sh" data-title="sh"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> pnpm</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> add</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> @modelcontextprotocol/sdk</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> zod</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> pnpm</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> add</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -D</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> typescript</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> @types/node</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>其他依赖文件，参考<a href="https://modelcontextprotocol.io/quickstart/server" target="_blank" rel="noopener noreferrer">For Server Developers</a></p><ol start="3"><li>创建服务</li></ol><div class="language-ts line-numbers-mode" data-ext="ts" data-title="ts"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">import</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> McpServer</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> }</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> from</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">@modelcontextprotocol/sdk/server/mcp.js</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">// 创建服务</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">const </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">server</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> new </span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">McpServer</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">({</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">  name</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">bing-wallpaper</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">  version</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">1.0.0</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">  capabilities</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: {</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">    resources</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: {},</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">    tools</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: {},</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">  },</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">});</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="4"><li>获取Bing壁纸数据</li></ol><div class="language-ts line-numbers-mode" data-ext="ts" data-title="ts"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">/**</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> * 获取bing壁纸信息</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> * </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">@</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">param</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> idx</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> </span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> * </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">@</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">param</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> num</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> </span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> * </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">@</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">returns</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> </span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> */</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">const </span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">getBingWallpaper</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> async </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">idx</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;">number</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 0</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> num</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;">number</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 1</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =&gt;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">    </span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">    // 目标URL</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">    const </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">url</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> `</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">https://cn.bing.com/HPImageArchive.aspx?format=js&amp;idx=</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">${</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">idx</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">}</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">&amp;n=</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">${</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">num</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">}</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">`</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">    // 发送GET请求</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">    const </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">res</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> await</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> fetch</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">url</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> { </span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">method</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">GET</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> });</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">    // 打印响应内容</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">    const </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">data</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;">BingWallpaperResponse</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> await</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> res</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">json</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">();</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">    const </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">images</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> data</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">images</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    return</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> images</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="5"><li>添加动态资源</li></ol><div class="language-ts line-numbers-mode" data-ext="ts" data-title="ts"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">// 动态资源测试</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">server</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">resource</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span></span>
<span class="line"><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">    &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">bing-wallpaper-index</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">    new</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> ResourceTemplate</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">bingwallpaper://{index}</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> { </span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">list</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">undefined</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> }),</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">    async</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> (</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">uri</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;">URL</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> index</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> })</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =&gt;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">        console</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">error</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">[MCP] 收到请求：</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> uri</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> index</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">        let </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">idx</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 0</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">        try</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">            idx</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> Number</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">index</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">        }</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> catch</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> (</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">error</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">            console</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">error</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">[MCP] index 转换失败：</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> index</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">);</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">        }</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    </span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">        const </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">images</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> await</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> getBingWallpaper</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">();</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    </span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">        if</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> (</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">images</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">length</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> &lt;=</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 0</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">            return</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">                contents</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: [</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">                    {</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">                        uri</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">uri</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">href</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">                        text</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">获取Bing壁纸失败</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">, </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">// 如果是二进制图像，可以用 blob 字段</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">                        mimeType</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">text/plain</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">, </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">// 或 &quot;image/jpeg&quot; 如果你传 blob</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">                    },</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">                ],</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">                _meta</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: {</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">                    title</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Bing 每日壁纸</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">                    description</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Bing 最新的壁纸</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">                    copyright</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">@MatiasTang</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">                },</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">            }</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> as</span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;"> ReadResourceResult</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">        }</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    </span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">        const </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">firstImage</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> images</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">[</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">0</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">];</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    </span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">        console</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">error</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">[MCP] 获取到壁纸信息：</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> firstImage</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">);</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    </span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">        const </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">title</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Bing 每日壁纸</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">        const </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">description</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> `</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Bing 最新的壁纸图，名为</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">${</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">firstImage</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">title</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">}</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">`</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">        const </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">copyright</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> firstImage</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">copyright</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">        const </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">imageUrl</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> `</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">https://cn.bing.com</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">${</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">firstImage</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">url</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">}</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">`</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    </span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">        return</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">            contents</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: [</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">                {</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">                    uri</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">uri</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">href</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">                    text</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">`</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Bing 今日的图片地址为：</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">${</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">imageUrl</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">}</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">`</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">, </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">// 如果是二进制图像，可以用 blob 字段</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">                    mimeType</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">text/plain</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">, </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">// 或 &quot;image/jpeg&quot; 如果你传 blob</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">                },</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">            ],</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">            _meta</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: {</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">                title</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">                description</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">                copyright</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">            },</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">        }</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> as</span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;"> ReadResourceResult</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">    },</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">);</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="6"><li>启动服务</li></ol><div class="language-ts line-numbers-mode" data-ext="ts" data-title="ts"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">async</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> function</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> main</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">()</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">    const </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">transport</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> new </span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">StdioServerTransport</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">();</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    await</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> server</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">connect</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">transport</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">);</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    console</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">error</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Bing Wallpaper MCP Server running on stdio</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">);</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">main</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">().</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">catch</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">((</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">error</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =&gt;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    console</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">error</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Fatal error in main():</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> error</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">);</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    process</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">exit</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">1</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">);</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">});</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="调试" tabindex="-1"><a class="header-anchor" href="#调试"><span>调试</span></a></h3><h4 id="本地调试" tabindex="-1"><a class="header-anchor" href="#本地调试"><span>本地调试</span></a></h4><p>使用<a href="https://modelcontextprotocol.io/docs/tools/inspector" target="_blank" rel="noopener noreferrer">MCP tools inspector</a>来调试服务。</p><ul><li>启动服务</li></ul><div class="language-sh line-numbers-mode" data-ext="sh" data-title="sh"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">$</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> sudo</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> npx</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> @modelcontextprotocol/inspector</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> node</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ./build/index.js</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Starting</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> MCP</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> inspector...</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">⚙️</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Proxy</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> server</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> listening</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> on</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> port</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 6277</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">🔍</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> MCP</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> Inspector</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> is</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> up</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> and</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> running</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> at</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> http://127.0.0.1:6274</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 🚀</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>打开浏览器，访问：<code>http://127.0.0.1:6274</code>。</li></ul><p><img src="/notes/llm/mcp/MCP%E8%B0%83%E8%AF%95%E9%A1%B5%E9%9D%A2%E6%9C%AA%E8%BF%9E%E6%8E%A5%E7%8A%B6%E6%80%81.png" alt="MCP调试页面未连接状态"></p><ul><li>然后点击<code>Connect</code>按钮，连接到服务。</li></ul><p><img src="/notes/llm/mcp/MCP%E8%B0%83%E8%AF%95%E9%A1%B5%E9%9D%A2%E9%93%BE%E6%8E%A5%E7%8A%B6%E6%80%81.png" alt="MCP调试页面连接状态"></p><ul><li>切换<code>Resources</code>、<code>Prompts</code>、<code>Tools</code>等查看状态</li></ul><p><img src="/notes/llm/mcp/MCP%E8%B0%83%E8%AF%95%E9%A1%B5%E9%9D%A2.png" alt="MCP调试页面"></p><p>在调试页面查看无误后，就可以在<code>Claude Desktop</code>、<code>Cline</code>等客户端中测试了。每个客户端支持的功能不一样，请查看<a href="https://modelcontextprotocol.io/clients" target="_blank" rel="noopener noreferrer">客户端支持的MCP服务</a>。</p><h4 id="vscode-cline-中测试" tabindex="-1"><a class="header-anchor" href="#vscode-cline-中测试"><span>VSCode + Cline 中测试</span></a></h4><p>在<code>Cline</code>的配置文件<code>cline_mcp_settings.json</code>中我们添加刚刚创建的<code>mcp</code>服务。</p><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">{</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">    &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">bing-wallpaper</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">      &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">autoApprove</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> [],</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">      &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">disabled</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> false</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">      &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">timeout</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 30</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">      &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">command</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">node</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">      &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">args</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> [</span></span>
<span class="line"><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">        &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">/Users/matias/matias/MT/MTGithub/MCP/MCP-Servers/bing-wallpaper-server/build/index.js</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">      ],</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">      &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">transportType</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">stdio</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">    },</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>注意</strong> 这里的路径使用的是全路径。</p><ul><li>链接到服务</li></ul><p><img src="/notes/llm/mcp/Cline%E9%93%BE%E6%8E%A5%E5%88%B0%E6%9C%8D%E5%8A%A1.png" alt="Cline链接到服务"></p><ul><li>测试问答</li></ul><p><img src="/notes/llm/mcp/bing%E5%A3%81%E7%BA%B8%E4%B8%AD%E6%80%9D%E8%80%83.png" alt="bing壁纸中思考"></p><p><img src="/notes/llm/mcp/bing%E5%A3%81%E7%BA%B8%E7%BB%93%E6%9E%9C.png" alt="bing壁纸结果"></p><p>可见，成功获取了Bing壁纸的地址的资源，并显示了对应地址的图片。</p><h4 id="claude-中测试" tabindex="-1"><a class="header-anchor" href="#claude-中测试"><span>Claude 中测试</span></a></h4><ul><li>开启<code>Claude Desktop</code>的调试模式</li></ul><p><img src="/notes/llm/mcp/Claude%E5%BC%80%E5%90%AF%E5%BC%80%E5%8F%91%E8%80%85%E6%A8%A1%E5%BC%8F.png" alt="Claude开启开发者模式"></p><p><img src="/notes/llm/mcp/Claude%E5%BC%80%E5%8F%91%E8%80%85%E6%A8%A1%E5%BC%8F%E8%AF%B4%E6%98%8E.png" alt="Claude开发者模式说明"></p><ul><li>添加MCP配置</li></ul><p><code>Settings</code>-&gt;<code>Developer</code>-&gt;<code>Eedit Config</code>，随便选择一个编辑器编辑这个<code>claude_desktop_config.json</code>文件。</p><div class="language-json line-numbers-mode" data-ext="json" data-title="json"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">{</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">    &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">mcpServers</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">        &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">bing-wallpaper</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">            &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">autoApprove</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> [],</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">            &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">disabled</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> false</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">            &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">timeout</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 30</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">            &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">command</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">node</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">            &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">args</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> [</span></span>
<span class="line"><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">                &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">/Users/matias/matias/MT/MTGithub/MCP/MCP-Servers/bing-wallpaper-server/build/index.js</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">            ],</span></span>
<span class="line"><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">            &quot;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">transportType</span><span style="--shiki-light:#99841877;--shiki-dark:#B8A96577;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">stdio</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">        }</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">    }</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>注意</strong> 这里注意，这个配置文件比之前<code>Cline</code>中的配置文件，多了一级<code>mcpServers</code>。</p><ul><li>查看<code>MCP Tool</code>信息</li></ul><p><img src="/notes/llm/mcp/Claude%E6%9F%A5%E7%9C%8BMCPTool%E4%BF%A1%E6%81%AF.png" alt="Claude查看MCPTool信息"></p><p>输入框下面可以查看已经连接的MCP服务，并且可以开关<code>Tool</code>，但这里并不能看到资源信息。</p><ul><li>查看<code>MCP</code>资源信息</li></ul><p>左下角登录账号下的<code>Settings</code>-&gt;<code>Profile</code>-&gt;<code>Integrations</code>可以看到连接的<code>MCP</code>服务，并且可以查看<code>Tool</code>和资源等信息。</p><p><img src="/notes/llm/mcp/ClaudeIntegrations.png" alt="ClaudeIntegrations"></p><p><img src="/notes/llm/mcp/ClaudeMCPInfo.png" alt="ClaudeMCPInfo"></p><ul><li>问答测试</li></ul><p>不知道怎么的在<code>Claude Desktop</code>中始终没有触发资源获取。</p><div class="hint-container warning"><p class="hint-container-title">注意</p><p>这里只能看到静态资源信息，不能看到动态资源信息。</p></div><h3 id="遇到的问题" tabindex="-1"><a class="header-anchor" href="#遇到的问题"><span>遇到的问题</span></a></h3><p>在调试这个服务的时候，遇到了一些问题，一直都没找到原因。</p><p>最开始的想法，是获取到<code>Bing</code>壁纸的图片数据，然后使用<code>blob</code>字段来返回二进制数据。但是一直没有成功。最后这一版还是返回的图片地址。</p><p>当我在注册的动态资源中返回，<code>blob</code>为图片的<code>Base64</code>数据的时候，当问答触发了资源换取后，<code>Cline</code>中提示的是：<code>(Empty response)</code>。如果注册为静态资源也是一样的。如果添加了<code>data:image/png;base64,</code>前缀，会提示：</p><div class="language-sh line-numbers-mode" data-ext="sh" data-title="sh"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">Error</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> accessing</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> MCP</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> resource:</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> \[</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> {</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">validation</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">base64</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">,</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">code</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">invalid\_string</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">,</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">message</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">:</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Invalid base64</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">,</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">path</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">:</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> \[</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">contents</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">,</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 0,</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">blob</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ]</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> }</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ]</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>我开始以为是内容太大了，输出的是：<code>base64 length: 444352</code>。</p><p>后面使用了一个很小的<code>Base64</code>还是一样的效果，并且<code>jpg</code>和<code>png</code>都试过。所以我觉得应该是客户端对这个支持得不好。</p><div class="hint-container important"><p class="hint-container-title">重要</p><p>目前返回<code>blob</code>的情况还没问答成功过。</p></div><h3 id="完整代码-1" tabindex="-1"><a class="header-anchor" href="#完整代码-1"><span>完整代码</span></a></h3><div class="language-ts line-numbers-mode" data-ext="ts" data-title="ts"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">/*</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> * @Author: matiastang</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> * @Date: 2025-05-07 17:04:38</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> * @LastEditors: matiastang</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> * @LastEditTime: 2025-05-08 17:20:11</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> * @FilePath: /bing-wallpaper-server/src/index.ts</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> * @Description: bing-wallpaper-server</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> */</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">import</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> McpServer</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> ResourceTemplate</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> }</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> from</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">@modelcontextprotocol/sdk/server/mcp.js</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">import</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> ReadResourceResult</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> }</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> from</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">@modelcontextprotocol/sdk/types.js</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">import</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> StdioServerTransport</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> }</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> from</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">@modelcontextprotocol/sdk/server/stdio.js</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">/**</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> * Bing壁纸图片类型</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> */</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">interface</span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;"> BingWallpaperImage</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    startdate</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;">string</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    fullstartdate</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;">string</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    enddate</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;">string</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    url</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;">string</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    urlbase</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;">string</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    copyright</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;">string</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    copyrightlink</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;">string</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    title</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;">string</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    quiz</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;">string</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    wp</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;">boolean</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    hsh</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;">string</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    drk</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;">number</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    top</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;">number</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    bot</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;">number</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    hs</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;">any</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">[]</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">/**</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> * Bing壁纸提示信息</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> */</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">interface</span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;"> BingWallpaperTooltips</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    loading</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;">string</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    previous</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;">string</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    next</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;">string</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    walle</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;">string</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    walls</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;">string</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">/**</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> * Bing壁纸响应</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> */</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">interface</span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;"> BingWallpaperResponse</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    images</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;">BingWallpaperImage</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">[]</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    tooltips</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;">BingWallpaperTooltips</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">// 创建服务</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">const </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">server</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> new </span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">McpServer</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">({</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">  name</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">bing-wallpaper</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">  version</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">1.0.0</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">  capabilities</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: {</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">    resources</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: {},</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">    tools</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: {},</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">  },</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">});</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">// 动态资源测试</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">server</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">resource</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span></span>
<span class="line"><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">    &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">bing-wallpaper-index</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">    new</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> ResourceTemplate</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">bingwallpaper://{index}</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> { </span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">list</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">undefined</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> }),</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">    async</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> (</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">uri</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;">URL</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> index</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> })</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =&gt;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">        console</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">error</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">[MCP] 收到请求：</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> uri</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> index</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">        let </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">idx</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 0</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">        try</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">            idx</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> Number</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">index</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">        }</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> catch</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> (</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">error</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">            console</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">error</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">[MCP] index 转换失败：</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> index</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">);</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">        }</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    </span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">        const </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">images</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> await</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> getBingWallpaper</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">();</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    </span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">        if</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> (</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">images</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">length</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> &lt;=</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 0</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">            return</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">                contents</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: [</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">                    {</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">                        uri</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">uri</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">href</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">                        text</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">获取Bing壁纸失败</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">, </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">// 如果是二进制图像，可以用 blob 字段</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">                        mimeType</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">text/plain</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">, </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">// 或 &quot;image/jpeg&quot; 如果你传 blob</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">                    },</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">                ],</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">                _meta</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: {</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">                    title</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Bing 每日壁纸</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">                    description</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Bing 最新的壁纸</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">                    copyright</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">@MatiasTang</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">                },</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">            }</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> as</span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;"> ReadResourceResult</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">        }</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    </span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">        const </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">firstImage</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> images</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">[</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">0</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">];</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    </span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">        console</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">error</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">[MCP] 获取到壁纸信息：</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> firstImage</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">);</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    </span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">        const </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">title</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Bing 每日壁纸</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">        const </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">description</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> `</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Bing 最新的壁纸图，名为</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">${</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">firstImage</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">title</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">}</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">`</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">        const </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">copyright</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> firstImage</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">copyright</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">        const </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">imageUrl</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> `</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">https://cn.bing.com</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">${</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">firstImage</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">url</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">}</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">`</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    </span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">        return</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">            contents</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: [</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">                {</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">                    uri</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">uri</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">href</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">                    text</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">`</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Bing 今日的图片地址为：</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">${</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">imageUrl</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">}</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">`</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">, </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">// 如果是二进制图像，可以用 blob 字段</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">                    mimeType</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">text/plain</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">, </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">// 或 &quot;image/jpeg&quot; 如果你传 blob</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">                },</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">            ],</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">            _meta</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: {</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">                title</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">                description</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">                copyright</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">            },</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">        }</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> as</span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;"> ReadResourceResult</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">    },</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">);</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">/**</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> * 获取bing壁纸信息</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> * </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">@</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">param</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> idx</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> </span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> * </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">@</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">param</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> num</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> </span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> * </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">@</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">returns</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> </span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> */</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">const </span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">getBingWallpaper</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> async </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">idx</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;">number</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 0</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> num</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;">number</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 1</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =&gt;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">    </span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">    // 目标URL</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">    const </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">url</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> `</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">https://cn.bing.com/HPImageArchive.aspx?format=js&amp;idx=</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">${</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">idx</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">}</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">&amp;n=</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">${</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">num</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">}</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">`</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">    // 发送GET请求</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">    const </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">res</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> await</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> fetch</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">url</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> { </span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">method</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">GET</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> });</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">    // 打印响应内容</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">    const </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">data</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#2E8F82;--shiki-dark:#5DA994;">BingWallpaperResponse</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> await</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> res</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">json</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">();</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">    const </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">images</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> data</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">images</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    return</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> images</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">async</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> function</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> main</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">()</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">    const </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">transport</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> new </span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">StdioServerTransport</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">();</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    await</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> server</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">connect</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">transport</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">);</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    console</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">error</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Bing Wallpaper MCP Server running on stdio</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">);</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">main</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">().</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">catch</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">((</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">error</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =&gt;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    console</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">error</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Fatal error in main():</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> error</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">);</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">    process</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">exit</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">1</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">);</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">});</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="参考" tabindex="-1"><a class="header-anchor" href="#参考"><span>参考</span></a></h2><p><a href="https://github.com/matiastang/welfare-lottery-server-python" target="_blank" rel="noopener noreferrer">welfare-lottery-server-python</a></p><p><a href="https://github.com/matiastang/bing-wallpaper-server" target="_blank" rel="noopener noreferrer">bing-wallpaper-server</a></p><p><a href="https://modelcontextprotocol.io/quickstart/server" target="_blank" rel="noopener noreferrer">For Server Developers</a></p><p><a href="https://modelcontextprotocol.io/docs/tools/inspector" target="_blank" rel="noopener noreferrer">MCP tools inspector</a></p><p><a href="https://modelcontextprotocol.io/clients" target="_blank" rel="noopener noreferrer">客户端支持的MCP服务</a></p></div><!----><!----><div class="vp-doc-copyright" data-v-71bde006><h2 id="doc-copyright" tabindex="-1" class="vp-doc-header" data-v-6b9a69bb><a href="#doc-copyright" class="header-anchor" data-v-6b9a69bb><span data-v-6b9a69bb><!--[-->版权所有<!--]--></span></a></h2><div class="hint-container tip copyright-container" data-v-7f3077be><p data-v-7f3077be><span data-v-7f3077be>版权归属：</span><a class="vp-link no-icon link" href="https://github.com/唐道勇" target="_blank" rel="noreferrer" data-v-7f3077be data-v-2a167ae6><!--[-->唐道勇<!--]--><!----></a></p><p data-v-7f3077be><span data-v-7f3077be>本文链接：</span><a class="vp-link no-icon link" href="/llm/mcp/z29ki5vu.html" data-allow-mismatch data-v-7f3077be data-v-2a167ae6><!--[-->/llm/mcp/z29ki5vu.html<!--]--><!----></a></p><p data-v-7f3077be><span data-v-7f3077be>许可证：</span><span class="vp-link no-icon" href="/" data-v-7f3077be data-v-2a167ae6><!--[-->Copyright © 2022-present tangdaoyong<!--]--><!----></span><!----></p></div></div></div></main><footer class="vp-doc-footer" data-v-71bde006 data-v-1496ed9c><!--[--><!--]--><!----><div class="contributors" aria-label="Contributors" data-v-1496ed9c><span class="contributors-label" data-v-1496ed9c>贡献者: </span><span class="contributors-info" data-v-1496ed9c><!--[--><!--[--><span class="contributor" data-v-1496ed9c>唐道勇</span><!----><!--]--><!--]--></span></div><!----></footer><!----><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!--]--><button style="display:none;" type="button" class="vp-back-to-top" aria-label="back to top" data-v-20c46894 data-v-de48bdf6><span class="percent" data-allow-mismatch data-v-de48bdf6>0%</span><span class="show icon vpi-back-to-top" data-v-de48bdf6></span><svg aria-hidden="true" data-v-de48bdf6><circle cx="50%" cy="50%" data-allow-mismatch style="stroke-dasharray:calc(0% - 12.566370614359172px) calc(314.1592653589793% - 12.566370614359172px);" data-v-de48bdf6></circle></svg></button><footer class="vp-footer has-sidebar" vp-footer data-v-20c46894 data-v-1666d1f6><!--[--><div class="container" data-v-1666d1f6><p class="message" data-v-1666d1f6>Powered by <a target="_blank" href="https://v2.vuepress.vuejs.org/">VuePress</a> &amp; <a target="_blank" href="https://theme-plume.vuejs.press">vuepress-theme-plume</a> &amp; <a target="_blank" href="https://github.com/matiastang">GitHub Pages</a></p><p class="copyright" data-v-1666d1f6><span style="display: flex;flex-direction: column;align-items: center;justify-content: center;"><span>Copyright © 2022-Present <a href="mailto:matiastang@163.com">tangdaoyong</a></span><span style="display: flex;align-items: center;justify-content: center;"><img src="/beian/beian-icon.png" style="margin: 0px 8px;" /><a href="https://beian.miit.gov.cn" target="_blank" rel="noopener noreferrer">蜀ICP备2022027592号</a></span></span></p></div><!--]--></footer><!--[--><!--]--><!--]--></div><!----><!--]--><!--[--><!--]--><!--]--></div><script type="module" src="/assets/app-CS9K37Kg.js" defer></script></body></html>